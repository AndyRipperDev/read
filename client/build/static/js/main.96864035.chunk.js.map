{"version":3,"sources":["imgs/book.jpg","imgs/bookDigital.jpg","imgs/bookDigital2.jpg","redux/actionTypes.js","redux/reducers/bookReducer.js","redux/reducers/authReducer.js","config.js","redux/authActionCreators.js","components/LoginPage.js","components/SignUpPage.js","redux/bookActionCreators.js","components/BookUploadComponent.js","components/LandingPageHeading.js","components/DesktopLandingPageContainer.js","components/MobileLandingPageContainer.js","components/LandingPage.js","components/BookStylesheetManager.js","components/PageComponent.js","components/PageBookReader.js","components/BookReaderWrapperComponent.js","components/DesktopPageContainer.js","components/MobilePageContainer.js","components/ResponsiveContainerNav.js","components/LibraryComponent.js","components/InfoPage.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","__webpack_require__","p","ADD_BOOKS","RECEIVE_MY_BOOK_PREVIEWS","initialState","books","bookPreviews","bookReducer","state","arguments","length","undefined","action","console","log","type","Object","assign","objectSpread","payload","isLoading","isAuthenticated","localStorage","getItem","token","user","JSON","parse","errMess","authReducer","creds","message","baseUrl","receiveLogin","response","loginUser","dispatch","requestLogin","fetch","method","headers","Content-Type","body","stringify","then","ok","error","Error","status","statusText","json","success","setItem","catch","logoutUser","removeItem","LoginPage","_this2","this","props","onLogin","react_default","a","createElement","Grid","textAlign","style","height","paddingLeft","paddingRight","verticalAlign","Column","width","Header","as","color","formik_esm","initialValues","password","username","onSubmit","values","_ref","setSubmitting","isSubmitting","handleSubmit","className","Row","paddingTop","Icon","name","placeholder","component","Component","connect","SignUpPage","onSignUp","email","signUpUser","requestSignup","fetchMyBookPreviews","bearer","Authorization","alert","addMyBooks","BookUploadComponent","_this","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","handleFormChange","event","files","target","bookCount","JSZip","require","fixXMLForRender","chapters","images","result","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","Symbol","iterator","next","done","chapter","value","chapterDOM","DOMParser","parseFromString","getElementsByTagName","imageNodes","querySelectorAll","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","imageNode","getAttribute","image","src","replace","extension","setAttribute","err","return","push","outerHTML","onBooksRead","postBooks","addBooks","setState","redirect","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_step3","_iterator3","f","loadAsync","zip","forEach","relativePath","zipEntry","async","text","contentFileParser","filePromises","stylesheets","spineIdrefs","innerHTML","author","_iteratorNormalCompletion4","_didIteratorError4","_iteratorError4","_step4","_iterator4","children","spineElement","_iteratorNormalCompletion5","_didIteratorError5","_iteratorError5","_step5","_loop","manifestElement","filePath","fileName","file","val","id","chapterIndex","indexOf","_iterator5","Promise","all","coverFileName","keys","filter","x","includes","coverData","coverExtension","split","react_router","to","pathname","window","File","FileReader","FileList","Blob","onChange","class","hidden","multiple","for","Message","negative","React","postMyBooks","withRouter","position","background","book3","WebkitBackgroundSize:","MozBackgroundSize:","backgroundSize","minHeight","mobile","content","inverted","fontSize","fontWeight","marginBottom","marginTop","paddingBottom","Button","onClick","history","animated","size","Content","visible","components_BookUploadComponent","getWidth","Responsive","onlyTablet","minWidth","innerWidth","DesktopContainer","activeItem","handleRedirectNav","e","path","preventDefault","handleVisibility","handleVisibilityAndHideFixedMenu","fixed","handleVisibilityAndShowFixedMenu","handleItemClick","handleOpenLogin","loginClearErrors","activeLogin","handleCloseLogin","handleOpenSignUp","activeSignUp","handleOpenProfileMenu","activeProfileMenu","handleCloseProfileMenu","handleCloseSignUp","hideFixedMenu","showFixedMenu","bind","assertThisInitialized","Visibility","once","onTopPassed","onTopPassedReverse","onBottomPassed","onBottomPassedReverse","Transition","Group","animation","duration","Menu","pointing","secondary","Container","Item","active","Image","avatar","href","primary","marginLeft","components_LandingPageHeading","Dimmer","onClickOutside","page","components_LoginPage","components_SignUpPage","MobileContainer","handleSidebarHide","sidebarOpened","handleToggle","handleItemClickAndSidebarHide","_ref2","maxWidth","onlyMobile","Sidebar","Pushable","Segment","basic","transform","onHide","vertical","Pusher","dimmed","padding","ResponsiveContainer","DesktopLandingPageContainer","MobileLandingPageContainer","LandingPage","LandingPage_ResponsiveContainer","container","stackable","book","WebkitBackgroundSize","celled","columns","book2","Divider","horizontal","margin","textTransform","divided","List","link","BookStylesheetManager","sheet","document","sheetInnerHtml","appendChild","removeChild","PageComponent","ref","innerRef","prevProps","prevState","snapshot","paginate","nextProps","nextState","nextContext","isEqual","forwardRef","PageComponent_PageComponent","PageBookReader","previousPage","currentPage","previousChapter","nextPage","pages","nextChapter","currentChapter","Infinity","getLeafNodes","chapterDivRef","current","root","Array","prototype","slice","node","nodeName","isElementInViewport","element","rect","getBoundingClientRect","parentRect","top","bottom","hideExceptFit","leafNodes","firstVisibleNodeIndex","lastNodeIndex","i","leafNode","display","paginateChapter","firstNodeIndex","lastPage","currentPagse","createRef","components_BookStylesheetManager","components_PageComponent","hideExceptPage","BookReaderWrapperComponent","src_components_PageBookReader","ResponsiveContainerNav","DesktopPageContainer","MobilePageContainer","BookCard","handleShow","handleHide","bookPreview","key","_id","Card","Dimmable","blurring","dimmer","onMouseEnter","onMouseLeave","Meta","LibraryComponent","map","LibraryComponent_BookCard","components_ResponsiveContainerNav","doubling","circular","InfoPage","store","createStore","combineReducers","compose","applyMiddleware","thunk","__REDUX_DEVTOOLS_EXTENSION__","App","es","react_router_dom","exact","Boolean","location","hostname","match","ReactDOM","render","src_App_0","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.96864035.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/book.83bf6e24.jpg\";","module.exports = __webpack_public_path__ + \"static/media/bookDigital.b71b34bf.jpg\";","module.exports = __webpack_public_path__ + \"static/media/bookDigital2.ba8754a2.jpg\";","export const ADD_BOOKS = 'ADD_BOOKS';\r\nexport const LOGIN_REQUEST = 'LOGIN_REQUEST';\r\nexport const LOGIN_SUCCESS = 'LOGIN_SUCCESS';\r\nexport const LOGIN_FAILURE = 'LOGIN_FAILURE';\r\nexport const LOGOUT_REQUEST = 'LOGOUT_REQUEST';\r\nexport const LOGOUT_SUCCESS = 'LOGOUT_SUCCESS';\r\nexport const LOGOUT_FAILURE = 'LOGOUT_FAILURE';\r\nexport const CLEAR_LOGIN_ERRORS = 'CLEAN_LOGIN_ERRORS';\r\nexport const SIGNUP_FAILURE = 'SIGNUP_FAILURE'\r\nexport const SIGNUP_REQUEST = 'SIGNUP_REQUEST'\r\nexport const RECEIVE_MY_BOOK_PREVIEWS = 'RECEIVE_MY_BOOK_PREVIEWS'","import {ADD_BOOKS, RECEIVE_MY_BOOK_PREVIEWS} from \"../actionTypes\";\r\n\r\nconst initialState = {\r\n    books:  [],\r\n    bookPreviews: []\r\n};\r\n\r\nfunction bookReducer(state = initialState, action) {\r\n    console.log(action)\r\n    switch (action.type) {\r\n        case ADD_BOOKS:\r\n            return Object.assign({}, state, {\r\n                ...state,\r\n                books: action.payload\r\n            });\r\n        case RECEIVE_MY_BOOK_PREVIEWS:\r\n            return {...state,\r\n                bookPreviews: action.payload\r\n            };\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport default bookReducer;","import * as ActionTypes from \"../actionTypes\";\r\n\r\nconst initialState = {\r\n    isLoading: false,\r\n    isAuthenticated: localStorage.getItem('token') ? true : false,\r\n    token: localStorage.getItem('token'),\r\n    user: localStorage.getItem('creds') ? JSON.parse(localStorage.getItem('creds')) : null,\r\n    errMess: null\r\n};\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case ActionTypes.LOGIN_REQUEST:\r\n        case ActionTypes.SIGNUP_REQUEST:\r\n            return {...state,\r\n                isLoading: true,\r\n                isAuthenticated: false,\r\n                user: action.creds\r\n            };\r\n        case ActionTypes.LOGIN_SUCCESS:\r\n            return {...state,\r\n                isLoading: false,\r\n                isAuthenticated: true,\r\n                errMess: '',\r\n                token: action.token\r\n            };\r\n        case ActionTypes.LOGIN_FAILURE:\r\n        case ActionTypes.SIGNUP_FAILURE:\r\n            return {...state,\r\n                isLoading: false,\r\n                isAuthenticated: false,\r\n                errMess: action.message\r\n            };\r\n        case ActionTypes.LOGOUT_REQUEST:\r\n            return {...state,\r\n                isLoading: true,\r\n                isAuthenticated: true\r\n            };\r\n        case ActionTypes.LOGOUT_SUCCESS:\r\n            return {...state,\r\n                isLoading: false,\r\n                isAuthenticated: false,\r\n                token: '',\r\n                user: null\r\n            };\r\n        case ActionTypes.CLEAR_LOGIN_ERRORS:\r\n            return {...state,\r\n            errMess: ''}\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport default authReducer;","export const baseUrl =  'http://localhost:3001/';","import {\r\n    ADD_BOOKS,\r\n    CLEAR_LOGIN_ERRORS,\r\n    LOGIN_FAILURE,\r\n    LOGIN_REQUEST,\r\n    LOGIN_SUCCESS,\r\n    LOGOUT_REQUEST,\r\n    LOGOUT_SUCCESS,\r\n    SIGNUP_FAILURE,\r\n    SIGNUP_REQUEST\r\n} from \"./actionTypes\";\r\nimport {baseUrl} from \"../config\";\r\n\r\nexport const requestLogin = (creds) => {\r\n    return {\r\n        type: LOGIN_REQUEST,\r\n        creds\r\n    }\r\n};\r\n\r\nexport const requestSignup = (creds) => {\r\n    return {\r\n        type: SIGNUP_REQUEST,\r\n        creds\r\n    }\r\n};\r\n\r\nexport const signupError = (message) => {\r\n    return {\r\n        type: SIGNUP_FAILURE,\r\n        message\r\n    }\r\n};\r\n\r\nexport const receiveLogin = (response) => {\r\n    return {\r\n        type: LOGIN_SUCCESS,\r\n        token: response.token\r\n    }\r\n};\r\n\r\nexport const loginError = (message) => {\r\n    return {\r\n        type: LOGIN_FAILURE,\r\n        message\r\n    }\r\n};\r\n\r\nexport const loginClearErrors = () => {\r\n    return {\r\n        type: CLEAR_LOGIN_ERRORS,\r\n    }\r\n};\r\n\r\nexport const loginUser = (creds) => (dispatch) => {\r\n    // We dispatch requestLogin to kickoff the call to the API\r\n    dispatch(requestLogin(creds));\r\n    return fetch(baseUrl + 'users/login', {\r\n        method: 'POST',\r\n        headers: {\r\n            'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify(creds)\r\n    })\r\n        .then(response => {\r\n                if (response.ok) {\r\n                    return response;\r\n                } else {\r\n                    var error = new Error('Error ' + response.status + ': ' + response.statusText);\r\n                    error.response = response;\r\n                    throw error;\r\n                }\r\n            },\r\n            error => {\r\n                throw error;\r\n            })\r\n        .then(response => response.json())\r\n        .then(response => {\r\n            if (response.success) {\r\n                // If login was successful, set the token in local storage\r\n                localStorage.setItem('token', response.token);\r\n                localStorage.setItem('creds', JSON.stringify(creds));\r\n                // Dispatch the success action\r\n                dispatch(receiveLogin(response));\r\n            } else {\r\n                var error = new Error('Error ' + response.status);\r\n                error.response = response;\r\n                throw error;\r\n            }\r\n        })\r\n        .catch(error => dispatch(loginError(error.message)))\r\n};\r\n\r\nexport const requestLogout = () => {\r\n    return {\r\n        type: LOGOUT_REQUEST\r\n    }\r\n};\r\n\r\nexport const receiveLogout = () => {\r\n    return {\r\n        type: LOGOUT_SUCCESS\r\n    }\r\n};\r\n\r\n// Logs the user out\r\nexport const logoutUser = () => (dispatch) => {\r\n    dispatch(requestLogout());\r\n    localStorage.removeItem('token');\r\n    localStorage.removeItem('creds');\r\n    dispatch(receiveLogout())\r\n};\r\n\r\nexport const signUpUser = (creds) => (dispatch) => {\r\n    dispatch(requestSignup(creds));\r\n    return fetch(baseUrl + 'users/signup', {\r\n        method: 'POST',\r\n        headers: {\r\n            'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify(creds)\r\n    })\r\n        .then(response => {\r\n                if (response.ok) {\r\n                    return response;\r\n                } else {\r\n                    var error = new Error('Error ' + response.status + ': ' + response.statusText);\r\n                    error.response = response;\r\n                    throw error;\r\n                }\r\n            },\r\n            error => {\r\n                throw error;\r\n            })\r\n        .then(response => response.json())\r\n        .then(response => {\r\n            if (response.success) {\r\n                // If login was successful, set the token in local storage\r\n                localStorage.setItem('token', response.token);\r\n                localStorage.setItem('creds', JSON.stringify(creds));\r\n                // Dispatch the success action\r\n                dispatch(receiveLogin(response));\r\n            } else {\r\n                var error = new Error('Error ' + response.status);\r\n                error.response = response;\r\n                throw error;\r\n            }\r\n        })\r\n        .catch(error => dispatch(signupError(error.message)))\r\n};\r\n\r\n","import React, { Component } from \"react\";\r\nimport { Grid, Header, Icon } from \"semantic-ui-react\";\r\nimport { ErrorMessage, Field, Formik } from \"formik\";\r\nimport { connect } from \"react-redux\";\r\nimport { loginUser } from \"../redux/authActionCreators\";\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  loginUser: user => dispatch(loginUser(user))\r\n});\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    isAuthenticated: state.authReducer.isAuthenticated,\r\n    isLoading: state.authReducer.isLoading,\r\n    errMess: state.authReducer.errMess\r\n  };\r\n};\r\n\r\nclass LoginPage extends Component {\r\n  state = {};\r\n\r\n  render() {\r\n    if (this.props.isAuthenticated) {\r\n      this.props.onLogin();\r\n      return null;\r\n    } else {\r\n      return (\r\n        <Grid\r\n          textAlign=\"center\"\r\n          style={{ height: \"100%\", paddingLeft: \"0em\", paddingRight: \"0em\" }}\r\n          verticalAlign=\"middle\"\r\n        >\r\n          <Grid.Column width={16}>\r\n            <Header as=\"h2\" color=\"blue\" textAlign=\"center\">\r\n              Log in to Readify\r\n            </Header>\r\n            <Formik\r\n              initialValues={{ password: \"\", username: \"\" }}\r\n              onSubmit={(values, { setSubmitting }) => {\r\n                let user = {\r\n                  username: values[\"username\"],\r\n                  password: values[\"password\"]\r\n                };\r\n                this.props.loginUser(user);\r\n              }}\r\n            >\r\n              {props => {\r\n                const { isSubmitting, handleSubmit } = props;\r\n                return (\r\n                  <form className={\"ui form\"} onSubmit={handleSubmit}>\r\n                    <div className={\"ui segment\"}>\r\n                      <Grid>\r\n                        <Grid.Row style={{ paddingTop: \"2em\" }}>\r\n                          <Grid.Column\r\n                            width={2}\r\n                            style={{ paddingRight: \"0em\", paddingLeft: \"0em\" }}\r\n                          >\r\n                            <Icon\r\n                              name=\"user\"\r\n                              color=\"black\"\r\n                              style={{ paddingTop: \"0.7em\" }}\r\n                            />\r\n                          </Grid.Column>\r\n                          <Grid.Column\r\n                            width={13}\r\n                            style={{ paddingRight: \"0em\", paddingLeft: \"0em\" }}\r\n                          >\r\n                            <div className=\"field\">\r\n                              <Field\r\n                                type=\"text\"\r\n                                name=\"username\"\r\n                                placeholder={\"Username\"}\r\n                              />\r\n\r\n                              <ErrorMessage name=\"email\" component=\"div\" />\r\n                            </div>\r\n                          </Grid.Column>\r\n                        </Grid.Row>\r\n                        <Grid.Row>\r\n                          <Grid.Column\r\n                            width={2}\r\n                            style={{ paddingRight: \"0em\", paddingLeft: \"0em\" }}\r\n                          >\r\n                            {\" \"}\r\n                            <Icon\r\n                              name=\"lock\"\r\n                              color=\"black\"\r\n                              style={{ paddingTop: \"0.7em\" }}\r\n                            />\r\n                          </Grid.Column>\r\n                          <Grid.Column\r\n                            width={13}\r\n                            style={{ paddingRight: \"0em\", paddingLeft: \"0em\" }}\r\n                          >\r\n                            <div className=\"field\">\r\n                              <Field\r\n                                type=\"password\"\r\n                                name=\"password\"\r\n                                placeholder={\"Password\"}\r\n                              />\r\n                              <ErrorMessage name=\"password\" component=\"div\" />\r\n                            </div>\r\n                          </Grid.Column>\r\n                        </Grid.Row>\r\n                        <Grid.Row>\r\n                          <Grid.Column\r\n                            width={16}\r\n                            style={{ paddingRight: \"0em\", paddingLeft: \"0em\" }}\r\n                          >\r\n                            <button\r\n                              type=\"submit\"\r\n                              className={\r\n                                \"ui button \" +\r\n                                (this.props.isLoading\r\n                                  ? \"loading \"\r\n                                  : \" \" +\r\n                                    (this.props.errMess ? \"red \" : \" primary \"))\r\n                              }\r\n                            >\r\n                              {!this.props.errMess\r\n                                ? \"Log in\"\r\n                                : this.props.errMess}\r\n                            </button>\r\n                          </Grid.Column>\r\n                        </Grid.Row>\r\n                      </Grid>\r\n                    </div>\r\n                  </form>\r\n                );\r\n              }}\r\n            </Formik>\r\n          </Grid.Column>\r\n        </Grid>\r\n      );\r\n    }\r\n  }\r\n}\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(LoginPage);\r\n","import React, { Component } from \"react\";\r\nimport { Grid, Header, Icon } from \"semantic-ui-react\";\r\nimport { ErrorMessage, Field, Formik } from \"formik\";\r\nimport * as Yup from \"yup\";\r\nimport { connect } from \"react-redux\";\r\nimport { signUpUser } from \"../redux/authActionCreators\";\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  signUpUser: user => dispatch(signUpUser(user))\r\n});\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    isAuthenticated: state.authReducer.isAuthenticated,\r\n    isLoading: state.authReducer.isLoading,\r\n    errMess: state.authReducer.errMess\r\n  };\r\n};\r\n\r\nclass SignUpPage extends Component {\r\n  state = {};\r\n\r\n  render() {\r\n    if (this.props.isAuthenticated) {\r\n      this.props.onSignUp();\r\n      return null;\r\n    } else {\r\n      return (\r\n        <Grid\r\n          textAlign=\"center\"\r\n          style={{ height: \"100%\" }}\r\n          verticalAlign=\"middle\"\r\n        >\r\n          <Grid.Column width={16}>\r\n            <Header as=\"h2\" color=\"blue\" textAlign=\"center\">\r\n              Sign up to Readify\r\n            </Header>\r\n            <Formik\r\n              initialValues={{ email: \"\", password: \"\", username: \"\" }}\r\n              onSubmit={(values, { setSubmitting }) => {\r\n                let user = {\r\n                  username: values[\"username\"],\r\n                  password: values[\"password\"]\r\n                };\r\n                this.props.signUpUser(user);\r\n              }}\r\n            >\r\n              {props => {\r\n                const { isSubmitting, handleSubmit } = props;\r\n                return (\r\n                  <form className={\"ui form\"} onSubmit={handleSubmit}>\r\n                    <div className={\"ui segment\"}>\r\n                      <Grid>\r\n                        <Grid.Row style={{ paddingTop: \"2em\" }}>\r\n                          <Grid.Column\r\n                            width={2}\r\n                            style={{ paddingRight: \"0em\", paddingLeft: \"0em\" }}\r\n                          >\r\n                            <Icon\r\n                              name=\"user\"\r\n                              color=\"black\"\r\n                              style={{ paddingTop: \"0.7em\" }}\r\n                            />\r\n                          </Grid.Column>\r\n                          <Grid.Column\r\n                            width={13}\r\n                            style={{ paddingRight: \"0em\", paddingLeft: \"0em\" }}\r\n                          >\r\n                            <div className=\"field\">\r\n                              <Field\r\n                                type=\"text\"\r\n                                name=\"username\"\r\n                                placeholder={\"Username\"}\r\n                              />\r\n                              <ErrorMessage name=\"email\" component=\"div\" />\r\n                            </div>\r\n                          </Grid.Column>\r\n                        </Grid.Row>\r\n                        <Grid.Row>\r\n                          <Grid.Column\r\n                            width={2}\r\n                            style={{ paddingRight: \"0em\", paddingLeft: \"0em\" }}\r\n                          >\r\n                            {\" \"}\r\n                            <Icon\r\n                              name=\"lock\"\r\n                              color=\"black\"\r\n                              style={{ paddingTop: \"0.7em\" }}\r\n                            />\r\n                          </Grid.Column>\r\n                          <Grid.Column\r\n                            width={13}\r\n                            style={{ paddingRight: \"0em\", paddingLeft: \"0em\" }}\r\n                          >\r\n                            <div className=\"field\">\r\n                              <Field\r\n                                type=\"password\"\r\n                                name=\"password\"\r\n                                placeholder={\"Password\"}\r\n                              />\r\n                              <ErrorMessage name=\"password\" component=\"div\" />\r\n                            </div>\r\n                          </Grid.Column>\r\n                        </Grid.Row>\r\n                        <Grid.Row>\r\n                          <Grid.Column\r\n                            width={16}\r\n                            style={{ paddingRight: \"0em\", paddingLeft: \"0em\" }}\r\n                          >\r\n                            <button\r\n                              type=\"submit\"\r\n                              className={\r\n                                \"ui button \" +\r\n                                (this.props.isLoading\r\n                                  ? \"loading \"\r\n                                  : \" \" +\r\n                                    (this.props.errMess ? \"red \" : \" primary \"))\r\n                              }\r\n                            >\r\n                              {!this.props.errMess\r\n                                ? \"Sign up\"\r\n                                : this.props.errMess}\r\n                            </button>\r\n                          </Grid.Column>\r\n                        </Grid.Row>\r\n                      </Grid>\r\n                    </div>\r\n                  </form>\r\n                );\r\n              }}\r\n            </Formik>\r\n          </Grid.Column>\r\n        </Grid>\r\n      );\r\n    }\r\n  }\r\n}\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(SignUpPage);\r\n","import {ADD_BOOKS, RECEIVE_MY_BOOK_PREVIEWS} from \"./actionTypes\";\r\nimport {baseUrl} from \"../config\";\r\n\r\nexport const receiveMyBookPreviews = (bookPreviews) => ({\r\n    type: RECEIVE_MY_BOOK_PREVIEWS,\r\n    payload: bookPreviews\r\n});\r\n\r\nexport const fetchMyBookPreviews = () => (dispatch) => {\r\n    {\r\n        const bearer = 'Bearer ' + localStorage.getItem('token');\r\n        return fetch(baseUrl + 'myBooks', {\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': bearer\r\n            },\r\n        }).then(response => {\r\n            if (response.ok) {\r\n                return response;\r\n            } else {\r\n                var error = new Error('Error ' + response.status + ': ' + response.statusText);\r\n                error.response = response;\r\n                throw error;\r\n            }\r\n        }).then(response => response.json())\r\n            .then(response => dispatch(receiveMyBookPreviews(response)))\r\n            .catch(error => {\r\n                alert('Your books could not be posted\\nError: ' + error.message);\r\n            });\r\n    }\r\n};\r\n\r\n\r\n\r\nexport const addMyBooks = (books) => ({\r\n    type: ADD_BOOKS,\r\n    payload: books\r\n});\r\n\r\nexport const postMyBooks = (books) => (dispatch) => {\r\n        const bearer = 'Bearer ' + localStorage.getItem('token');\r\n        return fetch(baseUrl + 'myBooks', {\r\n            method: \"POST\",\r\n            body: JSON.stringify(books),\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': bearer\r\n            },\r\n        }).then(response => {\r\n                if (response.ok) {\r\n                    return response;\r\n                } else {\r\n                    var error = new Error('Error ' + response.status + ': ' + response.statusText);\r\n                    error.response = response;\r\n                    throw error;\r\n                }\r\n            },\r\n            error => {\r\n                throw error;\r\n            })\r\n            .then(response => response.json())\r\n            .then(response => dispatch(addMyBooks(response)))\r\n            .catch(error => {\r\n                alert('Your books could not be posted\\nError: ' + error.message);\r\n            });\r\n\r\n};","import React from \"react\";\r\nimport { Button, Label, Message, Input } from \"semantic-ui-react\";\r\nimport { connect } from \"react-redux\";\r\nimport { addMyBooks, postMyBooks } from \"../redux/bookActionCreators\";\r\nimport { Redirect } from \"react-router-dom\";\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  addBooks: books => dispatch(addMyBooks(books)),\r\n  postBooks: books => dispatch(postMyBooks(books))\r\n});\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    isAuthenticated: state.authReducer.isAuthenticated\r\n  };\r\n};\r\n\r\nclass BookUploadComponent extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = { value: undefined };\r\n  }\r\n\r\n  handleFormChange = event => {\r\n    let files = event.target.files;\r\n    let books = [];\r\n    let bookCount = files.length;\r\n    const JSZip = require(\"jszip\");\r\n    const fixXMLForRender = (chapters, images) => {\r\n      let result = [];\r\n      for (let chapter of chapters) {\r\n        let chapterDOM = new DOMParser()\r\n          .parseFromString(chapter, \"text/xml\")\r\n          .getElementsByTagName(\"html\")[0]\r\n          .getElementsByTagName(\"body\")[0];\r\n        let imageNodes = chapterDOM.querySelectorAll(\"image, img\");\r\n        for (let imageNode of imageNodes) {\r\n          if (imageNode.getAttribute(\"src\")) {\r\n            const filename = imageNode.src.replace(/^.*[\\\\\\/]/, \"\");\r\n            let image = images[filename];\r\n            imageNode.src =\r\n              \"data:image/\" + image.extension + \";base64,\" + image.image;\r\n          } else if (imageNode.getAttribute(\"xlink:href\")) {\r\n            const filename = imageNode\r\n              .getAttribute(\"xlink:href\")\r\n              .replace(/^.*[\\\\\\/]/, \"\");\r\n            let image = images[filename];\r\n            imageNode.setAttribute(\r\n              \"xlink:href\",\r\n              \"data:image/\" + image.extension + \";base64,\" + image.image\r\n            );\r\n          }\r\n        }\r\n        result.push(chapterDOM.outerHTML.replace(/body/g, \"div\"));\r\n      }\r\n      return result;\r\n    };\r\n    const redirect = () => {\r\n      this.setState({ redirect: true });\r\n    };\r\n\r\n    const onBooksRead = () => {\r\n      if (this.props.isAuthenticated) this.props.postBooks(books);\r\n      else this.props.addBooks(books);\r\n      redirect();\r\n    };\r\n\r\n    for (let f of files) {\r\n      JSZip.loadAsync(f).then(function(zip) {\r\n        zip.forEach((relativePath, zipEntry) => {\r\n          let filename = relativePath.replace(/^.*[\\\\\\/]/, \"\");\r\n          if (filename == \"content.opf\") {\r\n            zipEntry.async(\"text\").then(text => {\r\n              let contentFileParser = new DOMParser().parseFromString(\r\n                text,\r\n                \"text/xml\"\r\n              );\r\n              let filePromises = [];\r\n              let chapters = [];\r\n              let images = [];\r\n              let stylesheets = [];\r\n              let spineIdrefs = [];\r\n              let cover = null;\r\n              let name = contentFileParser.getElementsByTagName(\"dc:title\")[0]\r\n                .innerHTML;\r\n              let author = contentFileParser.getElementsByTagName(\r\n                \"dc:creator\"\r\n              )[0].innerHTML;\r\n              for (let spineElement of contentFileParser.getElementsByTagName(\r\n                \"spine\"\r\n              )[0].children) {\r\n                spineIdrefs.push(spineElement.getAttribute(\"idref\"));\r\n              }\r\n              for (let manifestElement of contentFileParser.getElementsByTagName(\r\n                \"manifest\"\r\n              )[0].children) {\r\n                let filePath = manifestElement.getAttribute(\"href\");\r\n                let fileName = filePath.replace(/^.*[\\\\\\/]/, \"\");\r\n                switch (manifestElement.getAttribute(\"media-type\")) {\r\n                  case \"image/jpeg\":\r\n                    filePromises.push(\r\n                      zip\r\n                        .file(filePath)\r\n                        .async(\"base64\")\r\n                        .then(val => {\r\n                          images[fileName] = { image: val };\r\n                        })\r\n                    );\r\n                    break;\r\n                  case \"application/xhtml+xml\":\r\n                    let id = manifestElement.getAttribute(\"id\");\r\n                    let chapterIndex = spineIdrefs.indexOf(id);\r\n                    filePromises.push(\r\n                      zip\r\n                        .file(filePath)\r\n                        .async(\"text\")\r\n                        .then(val => {\r\n                          chapters[chapterIndex] = val;\r\n                        })\r\n                    );\r\n                    break;\r\n                  case \"text/css\":\r\n                    filePromises.push(\r\n                      zip\r\n                        .file(filePath)\r\n                        .async(\"text\")\r\n                        .then(val => {\r\n                          stylesheets.push(val);\r\n                        })\r\n                    );\r\n                    break;\r\n                }\r\n              }\r\n\r\n              Promise.all(filePromises).then(() => {\r\n                console.log(images);\r\n                let coverFileName = Object.keys(images).filter(x =>\r\n                  x.includes(\"cover\")\r\n                )[0];\r\n                let coverData = images[coverFileName][\"image\"];\r\n                let coverExtension = coverFileName.split(\".\")[1];\r\n                chapters = fixXMLForRender(chapters, images);\r\n                books.push({\r\n                  author: author,\r\n                  coverExtension: coverExtension,\r\n                  coverData: coverData,\r\n                  name: name,\r\n                  chapters: chapters,\r\n                  stylesheets: stylesheets\r\n                });\r\n                console.log(\"books\", books);\r\n                bookCount--;\r\n                if (bookCount == 0) {\r\n                  onBooksRead();\r\n                }\r\n              });\r\n            });\r\n          }\r\n        });\r\n      });\r\n    }\r\n  };\r\n\r\n  render() {\r\n    if (this.state.redirect) {\r\n      return (\r\n        <Redirect\r\n          push\r\n          to={{\r\n            pathname: \"/reader\",\r\n            state: {\r\n              books: this.props.books\r\n            }\r\n          }}\r\n        />\r\n      );\r\n    } else if (\r\n      window.File &&\r\n      window.FileReader &&\r\n      window.FileList &&\r\n      window.Blob\r\n    ) {\r\n      return (\r\n        <div>\r\n          <input\r\n            name={\"files[]\"}\r\n            type=\"file\"\r\n            onChange={event => {\r\n              this.handleFormChange(event);\r\n            }}\r\n            class=\"inputfile\"\r\n            hidden\r\n            id=\"upload\"\r\n            multiple\r\n          />\r\n\r\n          <label\r\n            for=\"upload\"\r\n            class=\"ui huge inverted center floated animated button\"\r\n          >\r\n            <div class=\"visible content\">Upload Book</div>\r\n            <div class=\"hidden content\">\r\n              <i class=\"ui upload icon\" />\r\n            </div>\r\n          </label>\r\n        </div>\r\n      );\r\n    } else {\r\n      return (\r\n        <Message negative>\r\n          <Message.Header>\r\n            We're sorry, you can't upload your book\r\n          </Message.Header>\r\n          <p>The File APIs are not fully supported in this browser.</p>\r\n        </Message>\r\n      );\r\n    }\r\n  }\r\n}\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(BookUploadComponent);\r\n","import book3 from \"../imgs/book.jpg\";\r\nimport { Button, Header, Icon } from \"semantic-ui-react\";\r\nimport React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\nimport BookUploadComponent from \"./BookUploadComponent\";\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    isAuthenticated: state.authReducer.isAuthenticated,\r\n    isLoading: state.authReducer.isLoading,\r\n    errMess: state.authReducer.errMess\r\n  };\r\n};\r\n\r\nconst LandingPageHeading = props => (\r\n  <div\r\n    style={{\r\n      position: \"relative\",\r\n      background: \"url(\" + book3 + \") no-repeat center center fixed\",\r\n      \"WebkitBackgroundSize:\": \"cover\",\r\n      \"MozBackgroundSize:\": \"cover\",\r\n      backgroundSize: \"cover\",\r\n      textAlign: \"center\",\r\n      color: \"#fff\",\r\n      paddingTop: \"110px\",\r\n      minHeight: props.mobile ? \"500px\" : \"950px\"\r\n    }}\r\n    className=\"img-text-heading\"\r\n  >\r\n    <Header\r\n      as=\"h1\"\r\n      content=\"Welcome to Readify\"\r\n      inverted\r\n      style={{\r\n        fontSize: props.mobile ? \"2em\" : \"4em\",\r\n        fontWeight: \"normal\",\r\n        marginBottom: 0,\r\n        marginTop: props.mobile ? \"1.5em\" : \"3em\"\r\n      }}\r\n    />\r\n\r\n    <Header\r\n      as=\"h2\"\r\n      content=\"Read whatever you want when you want to.\"\r\n      inverted\r\n      style={{\r\n        fontSize: props.mobile ? \"1.5em\" : \"1.7em\",\r\n        fontWeight: \"normal\",\r\n        marginTop: props.mobile ? \"0.5em\" : \"1.5em\",\r\n        paddingBottom: props.mobile ? \"0.3em\" : \"1em\"\r\n      }}\r\n    />\r\n    {props.isAuthenticated ? (\r\n      <Button\r\n        onClick={() => {\r\n          props.history.push(\"/library\");\r\n        }}\r\n        inverted\r\n        animated\r\n        size=\"huge\"\r\n      >\r\n        <Button.Content visible>Go To Library</Button.Content>\r\n        <Button.Content hidden>\r\n          <Icon name=\"arrow right\" />\r\n        </Button.Content>\r\n      </Button>\r\n    ) : (\r\n      <BookUploadComponent />\r\n    )}\r\n  </div>\r\n);\r\n\r\nLandingPageHeading.propTypes = {\r\n  mobile: PropTypes.bool\r\n};\r\n\r\nexport default withRouter(connect(mapStateToProps)(LandingPageHeading));\r\n","import {\r\n  Button,\r\n  Container,\r\n  Dimmer,\r\n  Menu,\r\n  Responsive,\r\n  Image,\r\n  Icon,\r\n  Transition,\r\n  Visibility\r\n} from \"semantic-ui-react\";\r\nimport LoginPage from \"./LoginPage\";\r\nimport SignUpPage from \"./SignUpPage\";\r\nimport React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { connect } from \"react-redux\";\r\nimport LandingPageHeading from \"./LandingPageHeading\";\r\nimport { loginClearErrors, loginUser } from \"../redux/authActionCreators\";\r\nimport { logoutUser } from \"../redux/authActionCreators\";\r\nimport { withRouter } from \"react-router-dom\";\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    isAuthenticated: state.authReducer.isAuthenticated,\r\n    isLoading: state.authReducer.isLoading,\r\n    errMess: state.authReducer.errMess\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  loginUser: user => dispatch(logoutUser(user)),\r\n  loginClearErrors: () => dispatch(loginClearErrors())\r\n});\r\n\r\nconst getWidth = () => {\r\n  const isSSR = typeof window === \"undefined\";\r\n\r\n  return isSSR ? Responsive.onlyTablet.minWidth : window.innerWidth;\r\n};\r\n\r\nclass DesktopContainer extends Component {\r\n  constructor() {\r\n    super();\r\n    this.handleRedirectNav = this.handleRedirectNav.bind(this);\r\n  }\r\n  state = {};\r\n  state = { activeItem: \"home\" };\r\n  state = { visible: true };\r\n\r\n  handleRedirectNav = (e, path) => {\r\n    e.preventDefault();\r\n    this.props.history.push(\"/\" + path);\r\n  };\r\n\r\n  handleVisibility = () => this.setState({ visible: !this.state.visible });\r\n\r\n  handleVisibilityAndHideFixedMenu = () => {\r\n    this.setState({ visible: !this.state.visible });\r\n    this.setState({ fixed: false });\r\n  };\r\n\r\n  handleVisibilityAndShowFixedMenu = () => {\r\n    this.setState({ visible: !this.state.visible });\r\n    this.setState({ fixed: true });\r\n  };\r\n\r\n  handleItemClick = (e, { name }) => this.setState({ activeItem: name });\r\n\r\n  handleOpenLogin = () => {\r\n    this.props.loginClearErrors();\r\n    this.setState({ activeLogin: true });\r\n  };\r\n  handleCloseLogin = () => this.setState({ activeLogin: false });\r\n\r\n  handleOpenSignUp = () => {\r\n    this.props.loginClearErrors();\r\n    this.setState({ activeSignUp: true });\r\n  };\r\n  handleOpenProfileMenu = () => this.setState({ activeProfileMenu: true });\r\n  handleCloseProfileMenu = () => this.setState({ activeProfileMenu: false });\r\n  handleCloseSignUp = () => this.setState({ activeSignUp: false });\r\n\r\n  hideFixedMenu = () => this.setState({ fixed: false });\r\n  showFixedMenu = () => this.setState({ fixed: true });\r\n\r\n  render() {\r\n    const { children } = this.props;\r\n    const { activeItem } = this.state;\r\n    const { activeLogin } = this.state;\r\n    const { activeSignUp } = this.state;\r\n    const { fixed } = this.state;\r\n    const { visible } = this.state;\r\n    return (\r\n      <Responsive getWidth={getWidth} minWidth={Responsive.onlyTablet.minWidth}>\r\n        <Visibility\r\n          once={false}\r\n          onTopPassed={this.handleVisibility}\r\n          onTopPassedReverse={this.handleVisibilityAndHideFixedMenu}\r\n          onBottomPassed={this.handleVisibilityAndShowFixedMenu}\r\n          onBottomPassedReverse={this.handleVisibility}\r\n          id=\"Home\"\r\n        >\r\n          <Transition.Group animation=\"fade down\" duration={500}>\r\n            {visible && (\r\n              <Menu\r\n                fixed=\"top\"\r\n                inverted\r\n                pointing={!fixed}\r\n                secondary={!fixed}\r\n                size=\"large\"\r\n              >\r\n                {!this.props.isAuthenticated ? (\r\n                  <Container>\r\n                    <Menu.Item\r\n                      as=\"a\"\r\n                      name=\"home\"\r\n                      href=\"#Home\"\r\n                      active={activeItem === \"home\"}\r\n                      onClick={this.handleItemClick}\r\n                    >\r\n                      Home\r\n                    </Menu.Item>\r\n                    <Menu.Item\r\n                      as=\"a\"\r\n                      href=\"#Introduction\"\r\n                      name=\"introduction\"\r\n                      active={activeItem === \"introduction\"}\r\n                      onClick={this.handleItemClick}\r\n                    >\r\n                      Introduction\r\n                    </Menu.Item>\r\n                    <Menu.Item\r\n                      as=\"a\"\r\n                      name=\"about\"\r\n                      href=\"#About\"\r\n                      active={activeItem === \"about\"}\r\n                      onClick={this.handleItemClick}\r\n                    >\r\n                      About\r\n                    </Menu.Item>\r\n                    <Menu.Item position=\"right\">\r\n                      <Button\r\n                        onClick={this.handleOpenLogin}\r\n                        primary={fixed}\r\n                        inverted\r\n                        animated\r\n                      >\r\n                        <Button.Content visible>Log in</Button.Content>\r\n                        <Button.Content hidden>\r\n                          <Icon name=\"sign-in\" />\r\n                        </Button.Content>\r\n                      </Button>\r\n                      <Button\r\n                        style={{ marginLeft: \"0.5em\" }}\r\n                        onClick={this.handleOpenSignUp}\r\n                        inverted\r\n                        animated\r\n                      >\r\n                        <Button.Content visible>Sign up</Button.Content>\r\n                        <Button.Content hidden>\r\n                          <Icon name=\"user plus\" />\r\n                        </Button.Content>\r\n                      </Button>\r\n                    </Menu.Item>\r\n                  </Container>\r\n                ) : (\r\n                  <Container>\r\n                    <Menu.Item\r\n                      as=\"a\"\r\n                      name=\"home\"\r\n                      active={activeItem === \"home\"}\r\n                      onClick={e => this.handleRedirectNav(e, \"\")}\r\n                    >\r\n                      Home\r\n                    </Menu.Item>\r\n                    <Menu.Item\r\n                      as=\"a\"\r\n                      name=\"library\"\r\n                      active={activeItem === \"library\"}\r\n                      onClick={e => this.handleRedirectNav(e, \"library\")}\r\n                    >\r\n                      Library\r\n                    </Menu.Item>\r\n                    <Menu.Item\r\n                      position=\"right\"\r\n                      style={{ paddingTop: \"0.65em\", paddingBottom: \"0.6em\" }}\r\n                    >\r\n                      <Image\r\n                        src=\"https://react.semantic-ui.com/images/avatar/large/matthew.png\"\r\n                        avatar\r\n                      />\r\n                      <span\r\n                        style={{ paddingRight: \"2em\", paddingLeft: \"0.5em\" }}\r\n                      >\r\n                        Joe\r\n                      </span>\r\n\r\n                      <Button\r\n                        onClick={() => {\r\n                          this.props.loginUser();\r\n                          this.handleCloseProfileMenu();\r\n                        }}\r\n                        inverted\r\n                        animated\r\n                      >\r\n                        <Button.Content visible>Log out</Button.Content>\r\n                        <Button.Content hidden>\r\n                          <Icon name=\"sign-out\" />\r\n                        </Button.Content>\r\n                      </Button>\r\n                    </Menu.Item>\r\n                  </Container>\r\n                )}\r\n              </Menu>\r\n            )}\r\n          </Transition.Group>\r\n\r\n          <LandingPageHeading />\r\n        </Visibility>\r\n        <Dimmer\r\n          active={activeLogin}\r\n          onClickOutside={this.handleCloseLogin}\r\n          page\r\n        >\r\n          <LoginPage onLogin={this.handleCloseLogin} />\r\n        </Dimmer>\r\n\r\n        <Dimmer\r\n          active={activeSignUp}\r\n          onClickOutside={this.handleCloseSignUp}\r\n          page\r\n        >\r\n          <SignUpPage onSignUp={this.handleCloseSignUp} />\r\n        </Dimmer>\r\n        {children}\r\n      </Responsive>\r\n    );\r\n  }\r\n}\r\n\r\nDesktopContainer.propTypes = {\r\n  children: PropTypes.node\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(withRouter(DesktopContainer));\r\n","import {\r\n  Button,\r\n  Dimmer,\r\n  Menu,\r\n  Responsive,\r\n  Segment,\r\n  Image,\r\n  Icon,\r\n  Sidebar,\r\n  Visibility\r\n} from \"semantic-ui-react\";\r\nimport LoginPage from \"./LoginPage\";\r\nimport SignUpPage from \"./SignUpPage\";\r\nimport React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { connect } from \"react-redux\";\r\nimport LandingPageHeading from \"./LandingPageHeading\";\r\nimport { loginClearErrors, loginUser } from \"../redux/authActionCreators\";\r\nimport { logoutUser } from \"../redux/authActionCreators\";\r\nimport { withRouter } from \"react-router-dom\";\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    isAuthenticated: state.authReducer.isAuthenticated,\r\n    isLoading: state.authReducer.isLoading,\r\n    errMess: state.authReducer.errMess\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  loginUser: user => dispatch(logoutUser(user)),\r\n  loginClearErrors: () => dispatch(loginClearErrors())\r\n});\r\n\r\nconst getWidth = () => {\r\n  const isSSR = typeof window === \"undefined\";\r\n\r\n  return isSSR ? Responsive.onlyTablet.minWidth : window.innerWidth;\r\n};\r\n\r\nclass MobileContainer extends Component {\r\n  constructor() {\r\n    super();\r\n    this.handleRedirectNav = this.handleRedirectNav.bind(this);\r\n  }\r\n\r\n  state = {};\r\n  state = { activeItem: \"home\" };\r\n\r\n  handleRedirectNav = (e, path) => {\r\n    e.preventDefault();\r\n    this.props.history.push(\"/\" + path);\r\n  };\r\n\r\n  hideFixedMenu = () => this.setState({ fixed: false });\r\n  showFixedMenu = () => this.setState({ fixed: true });\r\n\r\n  handleSidebarHide = () => this.setState({ sidebarOpened: false });\r\n  handleToggle = () => this.setState({ sidebarOpened: true });\r\n  handleItemClick = (e, { name }) => this.setState({ activeItem: name });\r\n  handleItemClickAndSidebarHide = (e, { name }) => {\r\n    this.setState({ activeItem: name });\r\n    this.setState({ sidebarOpened: false });\r\n  };\r\n\r\n  handleOpenLogin = () => {\r\n    this.props.loginClearErrors();\r\n    this.setState({ activeLogin: true });\r\n  };\r\n  handleCloseLogin = () => this.setState({ activeLogin: false });\r\n\r\n  handleOpenSignUp = () => {\r\n    this.props.loginClearErrors();\r\n    this.setState({ activeSignUp: true });\r\n  };\r\n  handleOpenProfileMenu = () => this.setState({ activeProfileMenu: true });\r\n  handleCloseProfileMenu = () => this.setState({ activeProfileMenu: false });\r\n  handleCloseSignUp = () => this.setState({ activeSignUp: false });\r\n\r\n  render() {\r\n    const { children } = this.props;\r\n    const { sidebarOpened } = this.state;\r\n    const { activeItem } = this.state;\r\n    const { activeLogin } = this.state;\r\n    const { activeSignUp } = this.state;\r\n    const { fixed } = this.state;\r\n\r\n    return (\r\n      <Responsive\r\n        // as={Sidebar.Pushable}\r\n        getWidth={getWidth}\r\n        maxWidth={Responsive.onlyMobile.maxWidth}\r\n      >\r\n        <div id=\"Home\">\r\n          <Sidebar.Pushable as={Segment} basic style={{ transform: \"none\" }}>\r\n            <Sidebar\r\n              as={Menu}\r\n              animation=\"push\"\r\n              inverted\r\n              onHide={this.handleSidebarHide}\r\n              style={{\r\n                minWidth: \"30%\",\r\n                fontSize: \"1.2em\",\r\n                textAlign: \"center\",\r\n                position: \"fixed\"\r\n              }}\r\n              vertical\r\n              visible={sidebarOpened}\r\n            >\r\n              {!this.props.isAuthenticated ? (\r\n                <div>\r\n                  <Menu.Item\r\n                    as=\"a\"\r\n                    name=\"close\"\r\n                    style={{ textAlign: \"right\", paddingBottom: 40 }}\r\n                    onClick={this.handleSidebarHide}\r\n                  >\r\n                    <Icon name=\"close\" />\r\n                  </Menu.Item>\r\n                  <Menu.Item\r\n                    as=\"a\"\r\n                    name=\"home\"\r\n                    href=\"#Home\"\r\n                    active={activeItem === \"home\"}\r\n                    onClick={this.handleItemClickAndSidebarHide}\r\n                  >\r\n                    Home\r\n                  </Menu.Item>\r\n                  <Menu.Item\r\n                    as=\"a\"\r\n                    name=\"introduction\"\r\n                    href=\"#Introduction\"\r\n                    active={activeItem === \"introduction\"}\r\n                    onClick={this.handleItemClickAndSidebarHide}\r\n                  >\r\n                    Introduction\r\n                  </Menu.Item>\r\n                  <Menu.Item\r\n                    as=\"a\"\r\n                    name=\"about\"\r\n                    href=\"#About\"\r\n                    active={activeItem === \"about\"}\r\n                    onClick={this.handleItemClickAndSidebarHide}\r\n                  >\r\n                    About\r\n                  </Menu.Item>\r\n                  <Menu.Item\r\n                    as=\"a\"\r\n                    name=\"login\"\r\n                    active={activeItem === \"login\"}\r\n                    onClick={this.handleOpenLogin}\r\n                  >\r\n                    Log in\r\n                  </Menu.Item>\r\n                  <Menu.Item\r\n                    as=\"a\"\r\n                    name=\"signup\"\r\n                    active={activeItem === \"signup\"}\r\n                    onClick={this.handleOpenSignUp}\r\n                  >\r\n                    Sign Up\r\n                  </Menu.Item>\r\n                </div>\r\n              ) : (\r\n                <div>\r\n                  <Menu.Item\r\n                    as=\"a\"\r\n                    name=\"close\"\r\n                    style={{ textAlign: \"right\", paddingBottom: 40 }}\r\n                    onClick={this.handleSidebarHide}\r\n                  >\r\n                    <Icon name=\"close\" />\r\n                  </Menu.Item>\r\n                  <Menu.Item\r\n                    as=\"a\"\r\n                    name=\"home\"\r\n                    active={activeItem === \"home\"}\r\n                    onClick={e => this.handleRedirectNav(e, \"\")}\r\n                  >\r\n                    Home\r\n                  </Menu.Item>\r\n                  <Menu.Item\r\n                    as=\"a\"\r\n                    name=\"library\"\r\n                    active={activeItem === \"library\"}\r\n                    onClick={e => this.handleRedirectNav(e, \"library\")}\r\n                  >\r\n                    Library\r\n                  </Menu.Item>\r\n                  <Menu.Item\r\n                    as=\"a\"\r\n                    name=\"signup\"\r\n                    active={activeItem === \"signup\"}\r\n                    onClick={() => {\r\n                      this.props.loginUser();\r\n                      this.handleCloseProfileMenu();\r\n                    }}\r\n                  >\r\n                    Log out\r\n                  </Menu.Item>\r\n                  <Menu.Item>\r\n                    <Image\r\n                      src=\"https://react.semantic-ui.com/images/avatar/large/matthew.png\"\r\n                      avatar\r\n                    />\r\n                    <span style={{ paddingRight: \"2em\", paddingLeft: \"0.5em\" }}>\r\n                      Joe\r\n                    </span>\r\n                  </Menu.Item>\r\n                </div>\r\n              )}\r\n            </Sidebar>\r\n\r\n            <Sidebar.Pusher dimmed={sidebarOpened}>\r\n              <Segment basic style={{ padding: \"0em\" }}>\r\n                <Visibility\r\n                  once={false}\r\n                  onBottomPassed={this.showFixedMenu}\r\n                  onBottomPassedReverse={this.hideFixedMenu}\r\n                >\r\n                  <Menu\r\n                    fixed=\"top\"\r\n                    inverted\r\n                    pointing={!fixed}\r\n                    secondary={!fixed}\r\n                  >\r\n                    <Menu.Item onClick={this.handleToggle}>\r\n                      <Icon name=\"sidebar\" />\r\n                    </Menu.Item>\r\n                    {!this.props.isAuthenticated ? (\r\n                      <Menu.Item position=\"right\">\r\n                        <Button\r\n                          onClick={this.handleOpenLogin}\r\n                          primary={fixed}\r\n                          inverted\r\n                          animated\r\n                        >\r\n                          <Button.Content visible>Log in</Button.Content>\r\n                          <Button.Content hidden>\r\n                            <Icon name=\"sign-in\" />\r\n                          </Button.Content>\r\n                        </Button>\r\n                        <Button\r\n                          style={{ marginLeft: \"0.5em\" }}\r\n                          onClick={this.handleOpenSignUp}\r\n                          inverted\r\n                          animated\r\n                        >\r\n                          <Button.Content visible>Sign up</Button.Content>\r\n                          <Button.Content hidden>\r\n                            <Icon name=\"user plus\" />\r\n                          </Button.Content>\r\n                        </Button>\r\n                      </Menu.Item>\r\n                    ) : (\r\n                      <Menu.Item position=\"right\">\r\n                        <Image\r\n                          src=\"https://react.semantic-ui.com/images/avatar/large/matthew.png\"\r\n                          avatar\r\n                        />\r\n                        <span\r\n                          style={{ paddingRight: \"2em\", paddingLeft: \"0.5em\" }}\r\n                        >\r\n                          Joe\r\n                        </span>\r\n\r\n                        <Button\r\n                          onClick={() => {\r\n                            this.props.loginUser();\r\n                            this.handleCloseProfileMenu();\r\n                          }}\r\n                          inverted\r\n                          animated\r\n                        >\r\n                          <Button.Content visible>Log out</Button.Content>\r\n                          <Button.Content hidden>\r\n                            <Icon name=\"sign-out\" />\r\n                          </Button.Content>\r\n                        </Button>\r\n                      </Menu.Item>\r\n                    )}\r\n                  </Menu>\r\n                </Visibility>\r\n                <LandingPageHeading mobile />\r\n                <Dimmer\r\n                  active={activeLogin}\r\n                  onClickOutside={this.handleCloseLogin}\r\n                  page\r\n                >\r\n                  <LoginPage onLogin={this.handleCloseLogin} />\r\n                </Dimmer>\r\n\r\n                <Dimmer\r\n                  active={activeSignUp}\r\n                  onClickOutside={this.handleCloseSignUp}\r\n                  page\r\n                >\r\n                  <SignUpPage onSignUp={this.handleCloseSignUp} />\r\n                </Dimmer>\r\n                {children}\r\n              </Segment>\r\n            </Sidebar.Pusher>\r\n          </Sidebar.Pushable>\r\n        </div>\r\n      </Responsive>\r\n    );\r\n  }\r\n}\r\n\r\nMobileContainer.propTypes = {\r\n  children: PropTypes.node\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(withRouter(MobileContainer));\r\n","import LoginPage from \"./LoginPage\";\r\nimport SignUpPage from \"./SignUpPage\";\r\nimport PropTypes from \"prop-types\";\r\nimport React, { Component } from \"react\";\r\nimport book3 from \"../imgs/book.jpg\";\r\nimport book from \"../imgs/bookDigital.jpg\";\r\nimport book2 from \"../imgs/bookDigital2.jpg\";\r\nimport DesktopContainer from \"./DesktopLandingPageContainer\";\r\nimport MobileContainer from \"./MobileLandingPageContainer\";\r\nimport {\r\n  Button,\r\n  Container,\r\n  Divider,\r\n  Grid,\r\n  Header,\r\n  Icon,\r\n  List,\r\n  Menu,\r\n  Responsive,\r\n  Segment,\r\n  Sidebar,\r\n  Dimmer,\r\n  Visibility,\r\n  Transition,\r\n  Label\r\n} from \"semantic-ui-react\";\r\nimport { connect } from \"react-redux\";\r\nimport LandingPageHeading from \"./LandingPageHeading\";\r\n\r\nconst getWidth = () => {\r\n  const isSSR = typeof window === \"undefined\";\r\n\r\n  return isSSR ? Responsive.onlyTablet.minWidth : window.innerWidth;\r\n};\r\n\r\nconst ResponsiveContainer = ({ children }) => (\r\n  <div>\r\n    <DesktopContainer>{children}</DesktopContainer>\r\n    <MobileContainer>{children}</MobileContainer>\r\n  </div>\r\n);\r\n\r\nResponsiveContainer.propTypes = {\r\n  children: PropTypes.node\r\n};\r\n\r\nconst LandingPage = () => (\r\n  <ResponsiveContainer>\r\n    <Segment id=\"Introduction\" style={{ padding: \"8em 0em\" }} vertical>\r\n      <Grid container stackable verticalAlign=\"middle\">\r\n        <Grid.Row>\r\n          <Grid.Column textAlign=\"center\">\r\n            <Header as=\"h3\" style={{ fontSize: \"2em\" }}>\r\n              What is Readify?\r\n            </Header>\r\n            <p style={{ fontSize: \"1.33em\" }}>Readify is a superious app.</p>\r\n          </Grid.Column>\r\n        </Grid.Row>\r\n        <Grid.Row>\r\n          <Grid.Column textAlign=\"center\">\r\n            <Header as=\"h3\" style={{ fontSize: \"2em\" }}>\r\n              You can read what you want any time.\r\n            </Header>\r\n            <p style={{ fontSize: \"1.33em\" }}>\r\n              Yes that's right, you thought it was the stuff of dreams, but\r\n              future is here.\r\n            </p>\r\n          </Grid.Column>\r\n        </Grid.Row>\r\n        <Grid.Row>\r\n          <Grid.Column textAlign=\"center\">\r\n            <Button primary animated size=\"huge\">\r\n              <Button.Content visible>Check It Out</Button.Content>\r\n              <Button.Content hidden>\r\n                <Icon name=\"arrow right\" />\r\n              </Button.Content>\r\n            </Button>\r\n          </Grid.Column>\r\n        </Grid.Row>\r\n      </Grid>\r\n    </Segment>\r\n    <Segment style={{ padding: \"0em\" }} vertical>\r\n      <Grid>\r\n        <Grid.Row>\r\n          <Grid.Column textAlign=\"center\">\r\n            <div\r\n              style={{\r\n                position: \"relative\",\r\n                background: \"url(\" + book + \") no-repeat center center fixed\",\r\n                WebkitBackgroundSize: \"cover\",\r\n                \"MozBackgroundSize:\": \"cover\",\r\n                backgroundSize: \"cover\",\r\n                textAlign: \"center\",\r\n                color: \"#fff\",\r\n                paddingTop: \"0px\",\r\n                minWidth: \"100%\",\r\n                minHeight: \"600px\"\r\n              }}\r\n              className=\"img-text-heading\"\r\n            />\r\n          </Grid.Column>\r\n        </Grid.Row>\r\n      </Grid>\r\n    </Segment>\r\n    <Segment style={{ padding: \"8em 0em\" }} vertical>\r\n      <Grid celled=\"internally\" columns=\"equal\" stackable>\r\n        <Grid.Row textAlign=\"center\">\r\n          <Grid.Column style={{ paddingBottom: \"5em\", paddingTop: \"5em\" }}>\r\n            <Header as=\"h3\" style={{ fontSize: \"2em\" }}>\r\n              Just upload a book and read it.\r\n            </Header>\r\n            <p style={{ fontSize: \"1.33em\" }}>It's that simple.</p>\r\n          </Grid.Column>\r\n          <Grid.Column style={{ paddingBottom: \"5em\", paddingTop: \"5em\" }}>\r\n            <Header as=\"h3\" style={{ fontSize: \"2em\" }}>\r\n              You can create your own library.\r\n            </Header>\r\n            <p style={{ fontSize: \"1.33em\" }}>\r\n              Create, customize, delete, easy to use.\r\n            </p>\r\n          </Grid.Column>\r\n        </Grid.Row>\r\n      </Grid>\r\n    </Segment>\r\n    <Segment style={{ padding: \"0em\" }} vertical>\r\n      <Grid>\r\n        <Grid.Row>\r\n          <Grid.Column textAlign=\"center\">\r\n            <div\r\n              style={{\r\n                position: \"relative\",\r\n                background: \"url(\" + book2 + \") no-repeat center center fixed\",\r\n                \"WebkitBackgroundSize:\": \"cover\",\r\n                \"MozBackgroundSize:\": \"cover\",\r\n                backgroundSize: \"cover\",\r\n                textAlign: \"center\",\r\n                color: \"#fff\",\r\n                paddingTop: \"0px\",\r\n                minWidth: \"100%\",\r\n                minHeight: \"600px\"\r\n              }}\r\n              className=\"img-text-heading\"\r\n            />\r\n          </Grid.Column>\r\n        </Grid.Row>\r\n      </Grid>\r\n    </Segment>\r\n    <Segment id=\"About\" style={{ padding: \"8em 0em\" }} vertical>\r\n      <Container text>\r\n        <Header as=\"h3\" style={{ fontSize: \"2em\", textAlign: \"center\" }}>\r\n          How it works\r\n        </Header>\r\n        <p style={{ fontSize: \"1.33em\" }}>\r\n          Instead of reading a physical book, you can simply upload .EPUB\r\n          digital book on the website and read it. You can also see informations\r\n          of this book such as reviews, informations about author, etc.\r\n        </p>\r\n        <div style={{ textAlign: \"center\" }}>\r\n          <Button animated size=\"large\">\r\n            <Button.Content visible>Read More</Button.Content>\r\n            <Button.Content hidden>\r\n              <Icon name=\"arrow right\" />\r\n            </Button.Content>\r\n          </Button>\r\n        </div>\r\n        <Divider\r\n          as=\"h4\"\r\n          className=\"header\"\r\n          horizontal\r\n          style={{ margin: \"3em 0em\", textTransform: \"uppercase\" }}\r\n        >\r\n          <a href=\"#\">Did you know?</a>\r\n        </Divider>\r\n        <p style={{ fontSize: \"1.33em\", textAlign: \"center\" }}>\r\n          You shouldn't use this app.\r\n        </p>\r\n      </Container>\r\n    </Segment>\r\n    <Segment inverted vertical style={{ padding: \"5em 0em\" }}>\r\n      <Container>\r\n        <Grid divided inverted stackable>\r\n          <Grid.Row>\r\n            <Grid.Column textAlign={null} width={5}>\r\n              <Header inverted as=\"h4\" content=\"About\" />\r\n              <List link inverted>\r\n                <List.Item as=\"a\">Contact Us</List.Item>\r\n                <List.Item as=\"a\">Why This Website Exists</List.Item>\r\n                <List.Item as=\"a\">About Us</List.Item>\r\n              </List>\r\n            </Grid.Column>\r\n            <Grid.Column width={5}>\r\n              <Header inverted as=\"h4\" content=\"Services\" />\r\n              <List link inverted>\r\n                <List.Item as=\"a\">There are no services yet</List.Item>\r\n                {/*<List.Item as='a'>FAQ</List.Item>\r\n                <List.Item as='a'>How To Access</List.Item>*/}\r\n              </List>\r\n            </Grid.Column>\r\n            <Grid.Column width={5}>\r\n              <Header as=\"h4\" inverted>\r\n                Join Us\r\n              </Header>\r\n              <p>Become member of our team</p>\r\n              <p>https://readify.com</p>\r\n            </Grid.Column>\r\n          </Grid.Row>\r\n        </Grid>\r\n      </Container>\r\n    </Segment>\r\n  </ResponsiveContainer>\r\n);\r\nexport default LandingPage;\r\n","import React from \"react\";\r\n\r\nclass BookStylesheetManager extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.sheet = document.createElement('style');\r\n    }\r\n\r\n    render() {\r\n        let sheetInnerHtml = \"\"\r\n        for (let stylesheet of this.props.stylesheets) {\r\n            sheetInnerHtml+=stylesheet\r\n        }\r\n        this.sheet.innerHTML = sheetInnerHtml\r\n        return (null);\r\n    }\r\n\r\n    componentDidMount() {\r\n        document.body.appendChild(this.sheet);\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        document.body.removeChild(this.sheet)\r\n    }\r\n\r\n}\r\n\r\nexport default BookStylesheetManager","import React from \"react\";\r\nimport \"./PageBookReader.css\"\r\nimport isEqual from \"react-fast-compare\";\r\n\r\nclass PageComponent extends React.Component {\r\n    render() {\r\n        return (\r\n            <div className={\"row centered\"}>\r\n                <div\r\n                    className=\"sixteen wide mobile eight wide tablet four wide computer column text container PageBookReaderWrapper\">\r\n                    <div className={\"PageBookReader\"} ref={this.props.innerRef}>{this.props.chapter}</div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState, snapshot) {\r\n        this.props.paginate();\r\n    }\r\n\r\n    shouldComponentUpdate(nextProps, nextState, nextContext) {\r\n        let shouldUpdate = !isEqual(this.props, nextProps);\r\n        return shouldUpdate\r\n    }\r\n}\r\n\r\nexport default React.forwardRef((props, ref) => <PageComponent innerRef={ref} {...props}/>);","import React from \"react\";\r\nimport {Button} from \"semantic-ui-react\";\r\nimport parse from \"html-react-parser\";\r\nimport BookStylesheetManager from \"./BookStylesheetManager\";\r\nimport PageComponent from \"./PageComponent\";\r\n\r\nconst pageHeight = 800;\r\n\r\nclass PageBookReader extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.chapterDivRef = React.createRef();\r\n        this.state = {\r\n            currentPage: 1,\r\n            currentChapter: 0,\r\n            pages:[]\r\n        }\r\n    }\r\n\r\n    render() {\r\n        let stylesheets = this.props.book.stylesheets;\r\n        let chapter = parse(this.props.book.chapters[this.state.currentChapter]);\r\n        return <div className=\"ui grid\">\r\n            <BookStylesheetManager stylesheets={stylesheets}/>\r\n            <div className={\"row centered\"}>\r\n                <Button onClick={this.previousChapter}>previous chapter</Button>\r\n                <Button onClick={this.nextChapter}>next chapter</Button>\r\n                <Button onClick={this.previousPage}>previous page</Button>\r\n                <Button onClick={this.nextPage}>next page</Button>\r\n            </div>\r\n            <PageComponent paginate={this.paginateChapter} ref={this.chapterDivRef} chapter={chapter}/>\r\n        </div>\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState, snapshot) {\r\n        this.hideExceptPage(this.state.currentPage)\r\n    }\r\n\r\n    previousPage = () => {\r\n        if (this.state.currentPage > 1) {\r\n            this.setState({\r\n                currentPage: this.state.currentPage - 1\r\n            });\r\n        } else {\r\n            this.previousChapter();\r\n        }\r\n    };\r\n\r\n    nextPage = () => {\r\n        if (this.state.currentPage >= this.state.pages.length)\r\n            this.nextChapter();\r\n        else {\r\n            this.setState({\r\n                currentPage: this.state.currentPage + 1,\r\n            });\r\n        }\r\n    };\r\n\r\n    previousChapter = () => {\r\n        this.setState({\r\n            currentChapter: this.state.currentChapter > 0 ? this.state.currentChapter - 1 : 0,\r\n            currentPage: Infinity\r\n        });\r\n    };\r\n\r\n    nextChapter = () => {\r\n        this.setState({\r\n            currentChapter: this.state.currentChapter + 1,\r\n            currentPage: 1\r\n        });\r\n    };\r\n\r\n    getLeafNodes = () => {\r\n        if(this.chapterDivRef.current)\r\n        {\r\n            const root = this.chapterDivRef.current;\r\n            let nodes = Array.prototype.slice.call(root.getElementsByTagName(\"*\"), 0);\r\n            let leafNodes = nodes.filter(function (node) {\r\n                if (['H1','H2','H3','H4','H5','H6', 'P', 'BLOCKQUOTE'].includes(node.nodeName))\r\n                    return true\r\n                return false\r\n            });\r\n            return leafNodes\r\n        }\r\n    }\r\n\r\n    isElementInViewport = (element) => {\r\n        const rect = element.getBoundingClientRect();\r\n        const parentRect = this.chapterDivRef.current.getBoundingClientRect();\r\n        return (\r\n            rect.top >= parentRect.top && rect.bottom <= parentRect.bottom\r\n        );\r\n    };\r\n\r\n    hideExceptFit = (leafNodes, firstVisibleNodeIndex) => {\r\n        let lastNodeIndex = Infinity;\r\n        for (let i = 0; i < leafNodes.length; i++) {\r\n            let leafNode = leafNodes[i];\r\n            leafNode.style.display = \"\";\r\n            if (i < firstVisibleNodeIndex || i > lastNodeIndex) {\r\n                leafNode.style.display = \"none\"\r\n            } else if (!this.isElementInViewport(leafNode)) {\r\n                leafNode.style.display = \"none\";\r\n                lastNodeIndex = i - 1\r\n            }\r\n        }\r\n        return lastNodeIndex\r\n    };\r\n\r\n    paginateChapter = () => {\r\n        let leafNodes = this.getLeafNodes();\r\n        let pages = [];\r\n        if(leafNodes)\r\n        {\r\n            let firstNodeIndex;\r\n            let lastNodeIndex = -1;\r\n            let lastPage;\r\n            do {\r\n                firstNodeIndex = lastNodeIndex + 1;\r\n                lastNodeIndex = this.hideExceptFit(leafNodes, firstNodeIndex);\r\n                pages.push(firstNodeIndex);\r\n                lastPage = firstNodeIndex > leafNodes.length || lastNodeIndex > leafNodes.length;\r\n            }\r\n            while (!lastPage);\r\n        }\r\n        else\r\n            pages = [0]\r\n        if(this.state.currentPagse == Infinity)\r\n            this.setState({pages: pages, currentPage: pages.length})\r\n\r\n    }\r\n\r\n    hideExceptPage(i)\r\n    {\r\n        this.hideExceptFit(this.getLeafNodes(),this.state.pages[i-1])\r\n    }\r\n}\r\n\r\nexport default PageBookReader;","import React from \"react\";\r\nimport PageBookReader from \"./PageBookReader\";\r\nimport {connect} from \"react-redux\";\r\nimport {loginUser} from \"../redux/authActionCreators\";\r\n\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    books: state.bookReducer.books\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    loginUser: (user) => dispatch(loginUser(user))\r\n});\r\n\r\nclass BookReaderWrapperComponent  extends React.Component {\r\n\r\n    render() {\r\n        if(this.props.books[0])\r\n        {\r\n            console.log(this.props.books[0]);\r\n            return <PageBookReader book={this.props.books[0]}></PageBookReader>\r\n        }\r\n        else\r\n            return <div></div>\r\n    }\r\n\r\n\r\n}\r\n\r\nexport default connect(mapStateToProps)(BookReaderWrapperComponent);\r\n","import {\r\n  Button,\r\n  Container,\r\n  Dimmer,\r\n  Menu,\r\n  Responsive,\r\n  Image,\r\n  Icon\r\n} from \"semantic-ui-react\";\r\nimport LoginPage from \"./LoginPage\";\r\nimport SignUpPage from \"./SignUpPage\";\r\nimport React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { connect } from \"react-redux\";\r\nimport { loginClearErrors, loginUser } from \"../redux/authActionCreators\";\r\nimport { logoutUser } from \"../redux/authActionCreators\";\r\nimport { withRouter } from \"react-router-dom\";\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    isAuthenticated: state.authReducer.isAuthenticated,\r\n    isLoading: state.authReducer.isLoading,\r\n    errMess: state.authReducer.errMess\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  loginUser: user => dispatch(logoutUser(user)),\r\n  loginClearErrors: () => dispatch(loginClearErrors())\r\n});\r\n\r\nconst getWidth = () => {\r\n  const isSSR = typeof window === \"undefined\";\r\n\r\n  return isSSR ? Responsive.onlyTablet.minWidth : window.innerWidth;\r\n};\r\n\r\nclass MobileContainer extends Component {\r\n  constructor() {\r\n    super();\r\n    this.handleRedirectNav = this.handleRedirectNav.bind(this);\r\n  }\r\n\r\n  state = {};\r\n  state = { activeItem: \"home\" };\r\n  state = { visible: true };\r\n\r\n  handleRedirectNav = (e, path) => {\r\n    e.preventDefault();\r\n    this.props.history.push(\"/\" + path);\r\n  };\r\n\r\n  handleItemClick = (e, { name }) => this.setState({ activeItem: name });\r\n\r\n  handleOpenLogin = () => {\r\n    this.props.loginClearErrors();\r\n    this.setState({ activeLogin: true });\r\n  };\r\n  handleCloseLogin = () => this.setState({ activeLogin: false });\r\n\r\n  handleOpenSignUp = () => {\r\n    this.props.loginClearErrors();\r\n    this.setState({ activeSignUp: true });\r\n  };\r\n  handleOpenProfileMenu = () => this.setState({ activeProfileMenu: true });\r\n  handleCloseProfileMenu = () => this.setState({ activeProfileMenu: false });\r\n  handleCloseSignUp = () => this.setState({ activeSignUp: false });\r\n\r\n  render() {\r\n    const { children } = this.props;\r\n    const { activeItem } = this.state;\r\n    const { activeLogin } = this.state;\r\n    const { activeSignUp } = this.state;\r\n    return (\r\n      <Responsive getWidth={getWidth} minWidth={Responsive.onlyTablet.minWidth}>\r\n        <Menu fixed=\"top\" inverted size=\"large\">\r\n          <Container>\r\n            <Menu.Item\r\n              as=\"a\"\r\n              name=\"home\"\r\n              active={activeItem === \"home\"}\r\n              onClick={e => this.handleRedirectNav(e, \"\")}\r\n            >\r\n              Home\r\n            </Menu.Item>\r\n            <Menu.Item\r\n              as=\"a\"\r\n              name=\"library\"\r\n              active={activeItem === \"library\"}\r\n              onClick={e => this.handleRedirectNav(e, \"library\")}\r\n            >\r\n              Library\r\n            </Menu.Item>\r\n            {!this.props.isAuthenticated ? (\r\n              <Menu.Item position=\"right\">\r\n                <Button\r\n                  onClick={this.handleOpenLogin}\r\n                  primary\r\n                  inverted\r\n                  animated\r\n                >\r\n                  <Button.Content visible>Log in</Button.Content>\r\n                  <Button.Content hidden>\r\n                    <Icon name=\"sign-in\" />\r\n                  </Button.Content>\r\n                </Button>\r\n                <Button\r\n                  style={{ marginLeft: \"0.5em\" }}\r\n                  onClick={this.handleOpenSignUp}\r\n                  inverted\r\n                  animated\r\n                >\r\n                  <Button.Content visible>Sign up</Button.Content>\r\n                  <Button.Content hidden>\r\n                    <Icon name=\"user plus\" />\r\n                  </Button.Content>\r\n                </Button>\r\n              </Menu.Item>\r\n            ) : (\r\n              <Menu.Item\r\n                position=\"right\"\r\n                style={{ paddingTop: \"0.65em\", paddingBottom: \"0.6em\" }}\r\n              >\r\n                <Image\r\n                  src=\"https://react.semantic-ui.com/images/avatar/large/matthew.png\"\r\n                  avatar\r\n                />\r\n                <span style={{ paddingRight: \"2em\", paddingLeft: \"0.5em\" }}>\r\n                  Joe\r\n                </span>\r\n\r\n                <Button\r\n                  onClick={() => {\r\n                    this.props.loginUser();\r\n                    this.handleCloseProfileMenu();\r\n                  }}\r\n                  inverted\r\n                  animated\r\n                >\r\n                  <Button.Content visible>Log out</Button.Content>\r\n                  <Button.Content hidden>\r\n                    <Icon name=\"sign-out\" />\r\n                  </Button.Content>\r\n                </Button>\r\n              </Menu.Item>\r\n            )}\r\n          </Container>\r\n        </Menu>\r\n        <Dimmer\r\n          active={activeLogin}\r\n          onClickOutside={this.handleCloseLogin}\r\n          page\r\n        >\r\n          <LoginPage onLogin={this.handleCloseLogin} />\r\n        </Dimmer>\r\n\r\n        <Dimmer\r\n          active={activeSignUp}\r\n          onClickOutside={this.handleCloseSignUp}\r\n          page\r\n        >\r\n          <SignUpPage onSignUp={this.handleCloseSignUp} />\r\n        </Dimmer>\r\n        {children}\r\n      </Responsive>\r\n    );\r\n  }\r\n}\r\n\r\nMobileContainer.propTypes = {\r\n  children: PropTypes.node\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(withRouter(MobileContainer));\r\n","import {\r\n  Button,\r\n  Dimmer,\r\n  Menu,\r\n  Responsive,\r\n  Segment,\r\n  Image,\r\n  Icon,\r\n  Sidebar\r\n} from \"semantic-ui-react\";\r\nimport LoginPage from \"./LoginPage\";\r\nimport SignUpPage from \"./SignUpPage\";\r\nimport React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { connect } from \"react-redux\";\r\nimport { loginClearErrors, loginUser } from \"../redux/authActionCreators\";\r\nimport { logoutUser } from \"../redux/authActionCreators\";\r\nimport { withRouter } from \"react-router-dom\";\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    isAuthenticated: state.authReducer.isAuthenticated,\r\n    isLoading: state.authReducer.isLoading,\r\n    errMess: state.authReducer.errMess\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  loginUser: user => dispatch(logoutUser(user)),\r\n  loginClearErrors: () => dispatch(loginClearErrors())\r\n});\r\n\r\nconst getWidth = () => {\r\n  const isSSR = typeof window === \"undefined\";\r\n\r\n  return isSSR ? Responsive.onlyTablet.minWidth : window.innerWidth;\r\n};\r\n\r\nclass MobileContainer extends Component {\r\n  constructor() {\r\n    super();\r\n    this.handleRedirectNav = this.handleRedirectNav.bind(this);\r\n  }\r\n\r\n  state = {};\r\n  state = { activeItem: \"home\" };\r\n\r\n  handleRedirectNav = (e, path) => {\r\n    e.preventDefault();\r\n    this.props.history.push(\"/\" + path);\r\n  };\r\n\r\n  handleSidebarHide = () => this.setState({ sidebarOpened: false });\r\n  handleToggle = () => this.setState({ sidebarOpened: true });\r\n  handleItemClick = (e, { name }) => this.setState({ activeItem: name });\r\n  handleItemClickAndSidebarHide = (e, { name }) => {\r\n    this.setState({ activeItem: name });\r\n    this.setState({ sidebarOpened: false });\r\n  };\r\n\r\n  handleOpenLogin = () => {\r\n    this.props.loginClearErrors();\r\n    this.setState({ activeLogin: true });\r\n  };\r\n  handleCloseLogin = () => this.setState({ activeLogin: false });\r\n\r\n  handleOpenSignUp = () => {\r\n    this.props.loginClearErrors();\r\n    this.setState({ activeSignUp: true });\r\n  };\r\n  handleOpenProfileMenu = () => this.setState({ activeProfileMenu: true });\r\n  handleCloseProfileMenu = () => this.setState({ activeProfileMenu: false });\r\n  handleCloseSignUp = () => this.setState({ activeSignUp: false });\r\n\r\n  render() {\r\n    const { children } = this.props;\r\n    const { sidebarOpened } = this.state;\r\n    const { activeItem } = this.state;\r\n    const { activeLogin } = this.state;\r\n    const { activeSignUp } = this.state;\r\n    const { fixed } = this.state;\r\n\r\n    return (\r\n      <Responsive\r\n        // as={Sidebar.Pushable}\r\n        getWidth={getWidth}\r\n        maxWidth={Responsive.onlyMobile.maxWidth}\r\n      >\r\n        <div id=\"Home\">\r\n          <Sidebar.Pushable as={Segment} basic style={{ transform: \"none\" }}>\r\n            <Sidebar\r\n              as={Menu}\r\n              animation=\"push\"\r\n              inverted\r\n              onHide={this.handleSidebarHide}\r\n              style={{\r\n                minWidth: \"30%\",\r\n                fontSize: \"1.2em\",\r\n                textAlign: \"center\",\r\n                position: \"fixed\"\r\n              }}\r\n              vertical\r\n              visible={sidebarOpened}\r\n            >\r\n              <Menu.Item\r\n                as=\"a\"\r\n                name=\"close\"\r\n                style={{ textAlign: \"right\", paddingBottom: 40 }}\r\n                onClick={this.handleSidebarHide}\r\n              >\r\n                <Icon name=\"close\" />\r\n              </Menu.Item>\r\n              <Menu.Item\r\n                as=\"a\"\r\n                name=\"home\"\r\n                active={activeItem === \"home\"}\r\n                onClick={e => this.handleRedirectNav(e, \"\")}\r\n              >\r\n                Home\r\n              </Menu.Item>\r\n              <Menu.Item\r\n                as=\"a\"\r\n                name=\"library\"\r\n                active={activeItem === \"library\"}\r\n                onClick={e => this.handleRedirectNav(e, \"library\")}\r\n              >\r\n                Library\r\n              </Menu.Item>\r\n\r\n              {!this.props.isAuthenticated ? (\r\n                <div>\r\n                  <Menu.Item\r\n                    as=\"a\"\r\n                    name=\"login\"\r\n                    active={activeItem === \"login\"}\r\n                    onClick={this.handleOpenLogin}\r\n                  >\r\n                    Log in\r\n                  </Menu.Item>\r\n                  <Menu.Item\r\n                    as=\"a\"\r\n                    name=\"signup\"\r\n                    active={activeItem === \"signup\"}\r\n                    onClick={this.handleOpenSignUp}\r\n                  >\r\n                    Sign Up\r\n                  </Menu.Item>\r\n                </div>\r\n              ) : (\r\n                <div>\r\n                  <Menu.Item\r\n                    as=\"a\"\r\n                    name=\"signup\"\r\n                    active={activeItem === \"signup\"}\r\n                    onClick={() => {\r\n                      this.props.loginUser();\r\n                      this.handleCloseProfileMenu();\r\n                    }}\r\n                  >\r\n                    Log out\r\n                  </Menu.Item>\r\n                  <Menu.Item>\r\n                    <Image\r\n                      src=\"https://react.semantic-ui.com/images/avatar/large/matthew.png\"\r\n                      avatar\r\n                    />\r\n                    <span style={{ paddingRight: \"2em\", paddingLeft: \"0.5em\" }}>\r\n                      Joe\r\n                    </span>\r\n                  </Menu.Item>\r\n                </div>\r\n              )}\r\n            </Sidebar>\r\n\r\n            <Sidebar.Pusher dimmed={sidebarOpened}>\r\n              <Segment basic style={{ padding: \"0em\" }}>\r\n                <Menu fixed=\"top\" inverted>\r\n                  <Menu.Item onClick={this.handleToggle}>\r\n                    <Icon name=\"sidebar\" />\r\n                  </Menu.Item>\r\n                  {!this.props.isAuthenticated ? (\r\n                    <Menu.Item position=\"right\">\r\n                      <Button\r\n                        onClick={this.handleOpenLogin}\r\n                        primary\r\n                        inverted\r\n                        animated\r\n                      >\r\n                        <Button.Content visible>Log in</Button.Content>\r\n                        <Button.Content hidden>\r\n                          <Icon name=\"sign-in\" />\r\n                        </Button.Content>\r\n                      </Button>\r\n                      <Button\r\n                        style={{ marginLeft: \"0.5em\" }}\r\n                        onClick={this.handleOpenSignUp}\r\n                        primary\r\n                        inverted\r\n                        animated\r\n                      >\r\n                        <Button.Content visible>Sign up</Button.Content>\r\n                        <Button.Content hidden>\r\n                          <Icon name=\"user plus\" />\r\n                        </Button.Content>\r\n                      </Button>\r\n                    </Menu.Item>\r\n                  ) : (\r\n                    <Menu.Item position=\"right\">\r\n                      <Image\r\n                        src=\"https://react.semantic-ui.com/images/avatar/large/matthew.png\"\r\n                        avatar\r\n                      />\r\n                      <span\r\n                        style={{ paddingRight: \"2em\", paddingLeft: \"0.5em\" }}\r\n                      >\r\n                        Joe\r\n                      </span>\r\n\r\n                      <Button\r\n                        onClick={() => {\r\n                          this.props.loginUser();\r\n                          this.handleCloseProfileMenu();\r\n                        }}\r\n                        inverted\r\n                        primary={fixed}\r\n                        animated\r\n                      >\r\n                        <Button.Content visible>Log out</Button.Content>\r\n                        <Button.Content hidden>\r\n                          <Icon name=\"sign-out\" />\r\n                        </Button.Content>\r\n                      </Button>\r\n                    </Menu.Item>\r\n                  )}\r\n                </Menu>\r\n                <Dimmer\r\n                  active={activeLogin}\r\n                  onClickOutside={this.handleCloseLogin}\r\n                  page\r\n                >\r\n                  <LoginPage onLogin={this.handleCloseLogin} />\r\n                </Dimmer>\r\n\r\n                <Dimmer\r\n                  active={activeSignUp}\r\n                  onClickOutside={this.handleCloseSignUp}\r\n                  page\r\n                >\r\n                  <SignUpPage onSignUp={this.handleCloseSignUp} />\r\n                </Dimmer>\r\n                {children}\r\n              </Segment>\r\n            </Sidebar.Pusher>\r\n          </Sidebar.Pushable>\r\n        </div>\r\n      </Responsive>\r\n    );\r\n  }\r\n}\r\n\r\nMobileContainer.propTypes = {\r\n  children: PropTypes.node\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(withRouter(MobileContainer));\r\n","import { Segment, Image, Grid, Header } from \"semantic-ui-react\";\r\nimport React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport DesktopPageContainer from \"./DesktopPageContainer\";\r\nimport MobileContainer from \"./MobilePageContainer\";\r\n\r\nconst ResponsiveContainerNav = ({ children }) => (\r\n  <div>\r\n    <DesktopPageContainer>{children}</DesktopPageContainer>\r\n    <MobileContainer>{children}</MobileContainer>\r\n  </div>\r\n);\r\n\r\nResponsiveContainerNav.propTypes = {\r\n  children: PropTypes.node\r\n};\r\n\r\nexport default ResponsiveContainerNav;\r\n","import React from \"react\";\r\nimport {\r\n  Button,\r\n  Card,\r\n  Dimmer,\r\n  Grid,\r\n  Icon,\r\n  Image,\r\n  Responsive\r\n} from \"semantic-ui-react\";\r\nimport { fetchMyBookPreviews } from \"../redux/bookActionCreators\";\r\nimport { connect } from \"react-redux\";\r\nimport ResponsiveContainerNav from \"./ResponsiveContainerNav\";\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    bookPreviews: state.bookReducer.bookPreviews\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  fetchMyBookPreviews: user => dispatch(fetchMyBookPreviews(user))\r\n});\r\n\r\nclass BookCard extends React.Component {\r\n  state = {};\r\n\r\n  handleShow = () => this.setState({ active: true });\r\n\r\n  handleHide = () => this.setState({ active: false });\r\n\r\n  render() {\r\n    const bookPreview = this.props.bookPreview;\r\n    const { active } = this.state;\r\n    const content = (\r\n      <div>\r\n        <Button inverted animated size=\"huge\">\r\n          <Button.Content visible>Read</Button.Content>\r\n          <Button.Content hidden>\r\n            <Icon name=\"columns\" />\r\n          </Button.Content>\r\n        </Button>\r\n        {/*  <div style={{ padding: \"1em\" }} /> */}\r\n        <Button inverted animated size=\"huge\">\r\n          <Button.Content visible>Info</Button.Content>\r\n          <Button.Content hidden>\r\n            <Icon name=\"info\" />\r\n          </Button.Content>\r\n        </Button>\r\n      </div>\r\n    );\r\n    return (\r\n      <Grid.Column key={bookPreview._id}>\r\n        <Card>\r\n          <Dimmer.Dimmable\r\n            as={Image}\r\n            blurring\r\n            dimmed={active}\r\n            dimmer={{ active, content }}\r\n            onMouseEnter={this.handleShow}\r\n            onMouseLeave={this.handleHide}\r\n            // size=\"huge\"\r\n            src={\r\n              \"data:image/\" +\r\n              bookPreview.coverExtension +\r\n              \";base64,\" +\r\n              bookPreview.coverData\r\n            }\r\n          >\r\n            {/*</Dimmer.Dimmable>/<Image src=\"https://react.semantic-ui.com/images/avatar/large/matthew.png\" />*/}\r\n          </Dimmer.Dimmable>\r\n          <Card.Content>\r\n            <Card.Header>{bookPreview.name}</Card.Header>\r\n            <Card.Meta>\r\n              <span>{bookPreview.author}</span>\r\n            </Card.Meta>\r\n          </Card.Content>\r\n        </Card>\r\n      </Grid.Column>\r\n    );\r\n  }\r\n}\r\n\r\nclass LibraryComponent extends React.Component {\r\n  componentDidMount() {\r\n    this.props.fetchMyBookPreviews();\r\n  }\r\n\r\n  render() {\r\n    console.log(this.props.bookPreviews);\r\n    const columns = this.props.bookPreviews.map(bookPreview => (\r\n      <BookCard bookPreview={bookPreview} />\r\n    ));\r\n    return (\r\n      <ResponsiveContainerNav>\r\n        <div style={{ paddingTop: \"5em\" }}>\r\n          <Grid doubling columns={6}>\r\n            <Grid.Column verticalAlign=\"middle\" textAlign=\"center\">\r\n              <Button size=\"medium\" circular style={{ padding: \"3em\" }}>\r\n                <Icon\r\n                  name=\"add\"\r\n                  size=\"big\"\r\n                  style={{ padding: \"0em\", margin: \"0em\" }}\r\n                />\r\n              </Button>\r\n            </Grid.Column>\r\n            {columns}\r\n          </Grid>\r\n        </div>\r\n      </ResponsiveContainerNav>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(LibraryComponent);\r\n","import { Segment, Image, Grid, Header } from \"semantic-ui-react\";\r\nimport React, { Component } from \"react\";\r\nimport ResponsiveContainerNav from \"./ResponsiveContainerNav\";\r\n\r\nclass InfoPage extends Component {\r\n  state = {};\r\n\r\n  render() {\r\n    return (\r\n      <ResponsiveContainerNav>\r\n        <Segment basic style={{ paddingTop: \"5em\" }}>\r\n          <Grid columns={3} width={15} stackable>\r\n            <Grid.Column width={5} textAlign=\"center\">\r\n              <Image\r\n                size=\"massive\"\r\n                src=\"https://react.semantic-ui.com/images/avatar/large/matthew.png\"\r\n              />\r\n              <Header as=\"h3\" content=\"Book\" />\r\n              <Header as=\"h4\" content=\"Author\" />\r\n            </Grid.Column>\r\n\r\n            <Grid.Column verticalAlign=\"middle\" width={10}>\r\n              <p>\r\n                Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Nullam\r\n                feugiat, turpis at pulvinar vulputate, erat libero tristique\r\n                tellus, nec bibendum odio risus sit amet ante. Maecenas lorem.\r\n                Etiam egestas wisi a erat. Aenean vel massa quis mauris vehicula\r\n                lacinia. Vivamus porttitor turpis ac leo. Etiam quis quam. Etiam\r\n                egestas wisi a erat. Integer rutrum, orci vestibulum ullamcorper\r\n                ultricies, lacus quam ultricies odio, vitae placerat pede sem\r\n                sit amet enim. Nullam at arcu a est sollicitudin euismod. Donec\r\n                vitae arcu. Aenean vel massa quis mauris vehicula lacinia. Duis\r\n                viverra diam non justo. Donec quis nibh at felis congue commodo.\r\n                Nullam lectus justo, vulputate eget mollis sed, tempor sed\r\n                magna. Nam sed tellus id magna elementum tincidunt.\r\n              </p>\r\n\r\n              <p>\r\n                Fusce tellus odio, dapibus id fermentum quis, suscipit id erat.\r\n                Nullam justo enim, consectetuer nec, ullamcorper ac, vestibulum\r\n                in, elit. Nullam eget nisl. Quisque porta. Mauris suscipit,\r\n                ligula sit amet pharetra semper, nibh ante cursus purus, vel\r\n                sagittis velit mauris vel metus. Cum sociis natoque penatibus et\r\n                magnis dis parturient montes, nascetur ridiculus mus. Vivamus\r\n                luctus egestas leo. Aliquam id dolor. Cum sociis natoque\r\n                penatibus et magnis dis parturient montes, nascetur ridiculus\r\n                mus. Mauris dolor felis, sagittis at, luctus sed, aliquam non,\r\n                tellus. Duis condimentum augue id magna semper rutrum. Etiam\r\n                ligula pede, sagittis quis, interdum ultricies, scelerisque eu.\r\n                Curabitur ligula sapien, pulvinar a vestibulum quis, facilisis\r\n                vel sapien. Etiam dictum tincidunt diam. Mauris dolor felis,\r\n                sagittis at, luctus sed, aliquam non, tellus. Nemo enim ipsam\r\n                voluptatem quia voluptas sit aspernatur aut odit aut fugit, sed\r\n                quia consequuntur magni dolores eos qui ratione voluptatem sequi\r\n                nesciunt. Nulla accumsan, elit sit amet varius semper, nulla\r\n                mauris mollis quam, tempor suscipit diam nulla vel leo.\r\n                Suspendisse sagittis ultrices augue. Praesent vitae arcu tempor\r\n                neque lacinia pretium. Aliquam erat volutpat.\r\n              </p>\r\n\r\n              <p>\r\n                Mauris tincidunt sem sed arcu. Pellentesque arcu. Aliquam id\r\n                dolor. Nulla non arcu lacinia neque faucibus fringilla. Integer\r\n                imperdiet lectus quis justo. Nullam sit amet magna in magna\r\n                gravida vehicula. Nunc dapibus tortor vel mi dapibus\r\n                sollicitudin. Duis viverra diam non justo. Cum sociis natoque\r\n                penatibus et magnis dis parturient montes, nascetur ridiculus\r\n                mus. Maecenas ipsum velit, consectetuer eu lobortis ut, dictum\r\n                at dui. Fusce nibh. Nullam lectus justo, vulputate eget mollis\r\n                sed, tempor sed magna. Etiam dictum tincidunt diam.\r\n              </p>\r\n\r\n              <p>\r\n                Phasellus faucibus molestie nisl. Duis pulvinar. Nullam sapien\r\n                sem, ornare ac, nonummy non, lobortis a enim. Phasellus et lorem\r\n                id felis nonummy placerat. Nam quis nulla. Sed vel lectus. Donec\r\n                odio tempus molestie, porttitor ut, iaculis quis, sem. Aliquam\r\n                ante. Pellentesque arcu. Integer rutrum, orci vestibulum\r\n                ullamcorper ultricies, lacus quam ultricies odio, vitae placerat\r\n                pede sem sit amet enim. Curabitur ligula sapien, pulvinar a\r\n                vestibulum quis, facilisis vel sapien.\r\n              </p>\r\n\r\n              <p>\r\n                Mauris tincidunt sem sed arcu. Itaque earum rerum hic tenetur a\r\n                sapiente delectus, ut aut reiciendis voluptatibus maiores alias\r\n                consequatur aut perferendis doloribus asperiores repellat. Quis\r\n                autem vel eum iure reprehenderit qui in ea voluptate velit esse\r\n                quam nihil molestiae consequatur, vel illum qui dolorem eum\r\n                fugiat quo voluptas nulla pariatur? Nulla est. Nullam justo\r\n                enim, consectetuer nec, ullamcorper ac, vestibulum in, elit.\r\n                Quis autem vel eum iure reprehenderit qui in ea voluptate velit\r\n                esse quam nihil molestiae consequatur, vel illum qui dolorem eum\r\n                fugiat quo voluptas nulla pariatur? Nam libero tempore, cum\r\n                soluta nobis est eligendi optio cumque nihil impedit quo minus\r\n                id quod maxime placeat facere possimus, omnis voluptas assumenda\r\n                est, omnis dolor repellendus. Praesent dapibus. Quisque porta.\r\n                Excepteur sint occaecat cupidatat non proident, sunt in culpa\r\n                qui officia deserunt mollit anim id est laborum. Ut tempus purus\r\n                at lorem. Mauris tincidunt sem sed arcu. Integer in sapien.\r\n                Nulla accumsan, elit sit amet varius semper, nulla mauris mollis\r\n                quam, tempor suscipit diam nulla vel leo. Neque porro quisquam\r\n                est, qui dolorem ipsum quia dolor sit amet, consectetur,\r\n                adipisci velit, sed quia non numquam eius modi tempora incidunt\r\n                ut labore et dolore magnam aliquam quaerat voluptatem.\r\n              </p>\r\n\r\n              <p>\r\n                Duis bibendum, lectus ut viverra rhoncus, dolor nunc faucibus\r\n                libero, eget facilisis enim ipsum id lacus. Mauris dictum\r\n                facilisis augue. Sed elit dui, pellentesque a, faucibus vel,\r\n                interdum nec, diam. Aliquam id dolor. Fusce aliquam vestibulum\r\n                ipsum. Duis bibendum, lectus ut viverra rhoncus, dolor nunc\r\n                faucibus libero, eget facilisis enim ipsum id lacus. Mauris\r\n                metus. Aliquam erat volutpat. Lorem ipsum dolor sit amet,\r\n                consectetuer adipiscing elit. Curabitur bibendum justo non orci.\r\n                Praesent id justo in neque elementum ultrices. Ut enim ad minima\r\n                veniam, quis nostrum exercitationem ullam corporis suscipit\r\n                laboriosam, nisi ut aliquid ex ea commodi consequatur? Maecenas\r\n                libero. In sem justo, commodo ut, suscipit at, pharetra vitae,\r\n                orci. Aenean placerat. Quis autem vel eum iure reprehenderit qui\r\n                in ea voluptate velit esse quam nihil molestiae consequatur, vel\r\n                illum qui dolorem eum fugiat quo voluptas nulla pariatur? Ut\r\n                enim ad minim veniam, quis nostrud exercitation ullamco laboris\r\n                nisi ut aliquip ex ea commodo consequat. Integer tempor. Donec\r\n                ipsum massa, ullamcorper in, auctor et, scelerisque sed, est.\r\n              </p>\r\n\r\n              <p>\r\n                Aliquam erat volutpat. Etiam ligula pede, sagittis quis,\r\n                interdum ultricies, scelerisque eu. Duis aute irure dolor in\r\n                reprehenderit in voluptate velit esse cillum dolore eu fugiat\r\n                nulla pariatur. Etiam sapien elit, consequat eget, tristique\r\n                non, venenatis quis, ante. Phasellus faucibus molestie nisl.\r\n                Nunc auctor. Vestibulum erat nulla, ullamcorper nec, rutrum non,\r\n                nonummy ac, erat. Etiam sapien elit, consequat eget, tristique\r\n                non, venenatis quis, ante. Duis aute irure dolor in\r\n                reprehenderit in voluptate velit esse cillum dolore eu fugiat\r\n                nulla pariatur. Praesent dapibus. Maecenas sollicitudin. Morbi\r\n                scelerisque luctus velit. In sem justo, commodo ut, suscipit at,\r\n                pharetra vitae, orci. Cum sociis natoque penatibus et magnis dis\r\n                parturient montes, nascetur ridiculus mus. Donec vitae arcu.\r\n                Nullam at arcu a est sollicitudin euismod. Aenean placerat.\r\n                Nullam rhoncus aliquam metus. In rutrum. Mauris metus.\r\n              </p>\r\n\r\n              <p>\r\n                Nam quis nulla. Fusce tellus odio, dapibus id fermentum quis,\r\n                suscipit id erat. Integer imperdiet lectus quis justo. Cum\r\n                sociis natoque penatibus et magnis dis parturient montes,\r\n                nascetur ridiculus mus. Lorem ipsum dolor sit amet, consectetuer\r\n                adipiscing elit. In rutrum. Donec ipsum massa, ullamcorper in,\r\n                auctor et, scelerisque sed, est. Et harum quidem rerum facilis\r\n                est et expedita distinctio. Cras pede libero, dapibus nec,\r\n                pretium sit amet, tempor quis. Cras elementum. Phasellus enim\r\n                erat, vestibulum vel, aliquam a, posuere eu, velit. Nunc auctor.\r\n                Proin mattis lacinia justo. Vestibulum fermentum tortor id mi.\r\n                Duis pulvinar.\r\n              </p>\r\n\r\n              <p>\r\n                Etiam neque. Vestibulum fermentum tortor id mi. Mauris dictum\r\n                facilisis augue. Praesent vitae arcu tempor neque lacinia\r\n                pretium. Class aptent taciti sociosqu ad litora torquent per\r\n                conubia nostra, per inceptos hymenaeos. Praesent dapibus. Duis\r\n                pulvinar. Donec ipsum massa, ullamcorper in, auctor et,\r\n                scelerisque sed, est. Fusce tellus odio, dapibus id fermentum\r\n                quis, suscipit id erat. Etiam bibendum elit eget erat. Proin in\r\n                tellus sit amet nibh dignissim sagittis. In laoreet, magna id\r\n                viverra tincidunt, sem odio bibendum justo, vel imperdiet sapien\r\n                wisi sed libero. Sed ut perspiciatis unde omnis iste natus error\r\n                sit voluptatem accusantium doloremque laudantium, totam rem\r\n                aperiam, eaque ipsa quae ab illo inventore veritatis et quasi\r\n                architecto beatae vitae dicta sunt explicabo. Mauris suscipit,\r\n                ligula sit amet pharetra semper, nibh ante cursus purus, vel\r\n                sagittis velit mauris vel metus. Vestibulum erat nulla,\r\n                ullamcorper nec, rutrum non, nonummy ac, erat. Nulla accumsan,\r\n                elit sit amet varius semper, nulla mauris mollis quam, tempor\r\n                suscipit diam nulla vel leo. Integer malesuada. Mauris dolor\r\n                felis, sagittis at, luctus sed, aliquam non, tellus.\r\n              </p>\r\n\r\n              <p>\r\n                Phasellus faucibus molestie nisl. Duis ante orci, molestie vitae\r\n                vehicula venenatis, tincidunt ac pede. Nullam sapien sem, ornare\r\n                ac, nonummy non, lobortis a enim. Integer tempor. Donec quis\r\n                nibh at felis congue commodo. Praesent vitae arcu tempor neque\r\n                lacinia pretium. In laoreet, magna id viverra tincidunt, sem\r\n                odio bibendum justo, vel imperdiet sapien wisi sed libero. Nunc\r\n                tincidunt ante vitae massa. Vivamus porttitor turpis ac leo.\r\n                Fusce aliquam vestibulum ipsum.\r\n              </p>\r\n\r\n              <p>\r\n                Nulla est. Quisque tincidunt scelerisque libero. Cras elementum.\r\n                Aliquam erat volutpat. Curabitur vitae diam non enim vestibulum\r\n                interdum. Maecenas libero. Quisque porta. Nullam lectus justo,\r\n                vulputate eget mollis sed, tempor sed magna. Aenean placerat.\r\n                Aliquam id dolor. Duis condimentum augue id magna semper rutrum.\r\n              </p>\r\n\r\n              <p>\r\n                Aliquam ante. Nunc auctor. Pellentesque arcu. Curabitur bibendum\r\n                justo non orci. Maecenas sollicitudin. Nam quis nulla. Etiam\r\n                ligula pede, sagittis quis, interdum ultricies, scelerisque eu.\r\n                Etiam posuere lacus quis dolor. Maecenas libero. Etiam egestas\r\n                wisi a erat. Vivamus luctus egestas leo. Aliquam erat volutpat.\r\n                Nulla non arcu lacinia neque faucibus fringilla. Sed ac dolor\r\n                sit amet purus malesuada congue. Nunc tincidunt ante vitae\r\n                massa. Mauris tincidunt sem sed arcu.\r\n              </p>\r\n\r\n              <p>\r\n                Aenean placerat. Aliquam erat volutpat. Etiam quis quam.\r\n                Suspendisse sagittis ultrices augue. Mauris dictum facilisis\r\n                augue. Maecenas aliquet accumsan leo. Duis sapien nunc, commodo\r\n                et, interdum suscipit, sollicitudin et, dolor. Nullam feugiat,\r\n                turpis at pulvinar vulputate, erat libero tristique tellus, nec\r\n                bibendum odio risus sit amet ante. Nulla non lectus sed nisl\r\n                molestie malesuada. Itaque earum rerum hic tenetur a sapiente\r\n                delectus, ut aut reiciendis voluptatibus maiores alias\r\n                consequatur aut perferendis doloribus asperiores repellat. Lorem\r\n                ipsum dolor sit amet, consectetuer adipiscing elit. Nunc\r\n                tincidunt ante vitae massa.\r\n              </p>\r\n\r\n              <p>\r\n                Cras elementum. Etiam quis quam. Nullam at arcu a est\r\n                sollicitudin euismod. In convallis. Nulla turpis magna, cursus\r\n                sit amet, suscipit a, interdum id, felis. Cum sociis natoque\r\n                penatibus et magnis dis parturient montes, nascetur ridiculus\r\n                mus. Donec vitae arcu. Etiam posuere lacus quis dolor. Class\r\n                aptent taciti sociosqu ad litora torquent per conubia nostra,\r\n                per inceptos hymenaeos. Praesent in mauris eu tortor porttitor\r\n                accumsan. Duis sapien nunc, commodo et, interdum suscipit,\r\n                sollicitudin et, dolor. Temporibus autem quibusdam et aut\r\n                officiis debitis aut rerum necessitatibus saepe eveniet ut et\r\n                voluptates repudiandae sint et molestiae non recusandae. In sem\r\n                justo, commodo ut, suscipit at, pharetra vitae, orci. Vestibulum\r\n                erat nulla, ullamcorper nec, rutrum non, nonummy ac, erat.\r\n              </p>\r\n\r\n              <p>\r\n                Proin pede metus, vulputate nec, fermentum fringilla, vehicula\r\n                vitae, justo. Integer in sapien. Etiam egestas wisi a erat. Duis\r\n                aute irure dolor in reprehenderit in voluptate velit esse cillum\r\n                dolore eu fugiat nulla pariatur. Nullam rhoncus aliquam metus.\r\n                Aliquam erat volutpat. Nulla accumsan, elit sit amet varius\r\n                semper, nulla mauris mollis quam, tempor suscipit diam nulla vel\r\n                leo. Nulla est. Maecenas libero. Donec quis nibh at felis congue\r\n                commodo. Fusce aliquam vestibulum ipsum. Etiam bibendum elit\r\n                eget erat. Curabitur sagittis hendrerit ante. Cum sociis natoque\r\n                penatibus et magnis dis parturient montes, nascetur ridiculus\r\n                mus. Integer in sapien. In enim a arcu imperdiet malesuada.\r\n                Integer rutrum, orci vestibulum ullamcorper ultricies, lacus\r\n                quam ultricies odio, vitae placerat pede sem sit amet enim.\r\n                Aenean fermentum risus id tortor.\r\n              </p>\r\n\r\n              <p>\r\n                Aenean placerat. Duis condimentum augue id magna semper rutrum.\r\n                Maecenas lorem. Cum sociis natoque penatibus et magnis dis\r\n                parturient montes, nascetur ridiculus mus. Etiam egestas wisi a\r\n                erat. Donec vitae arcu. Duis ante orci, molestie vitae vehicula\r\n                venenatis, tincidunt ac pede. In rutrum. Morbi imperdiet, mauris\r\n                ac auctor dictum, nisl ligula egestas nulla, et sollicitudin sem\r\n                purus in lacus. Class aptent taciti sociosqu ad litora torquent\r\n                per conubia nostra, per inceptos hymenaeos. Duis sapien nunc,\r\n                commodo et, interdum suscipit, sollicitudin et, dolor. Aliquam\r\n                in lorem sit amet leo accumsan lacinia. Nullam eget nisl.\r\n                Maecenas lorem. Cum sociis natoque penatibus et magnis dis\r\n                parturient montes, nascetur ridiculus mus. Mauris tincidunt sem\r\n                sed arcu.\r\n              </p>\r\n\r\n              <p>\r\n                Nullam sit amet magna in magna gravida vehicula. In laoreet,\r\n                magna id viverra tincidunt, sem odio bibendum justo, vel\r\n                imperdiet sapien wisi sed libero. Sed ac dolor sit amet purus\r\n                malesuada congue. Vivamus porttitor turpis ac leo. Maecenas\r\n                lorem. Praesent in mauris eu tortor porttitor accumsan. Nunc\r\n                dapibus tortor vel mi dapibus sollicitudin. Morbi imperdiet,\r\n                mauris ac auctor dictum, nisl ligula egestas nulla, et\r\n                sollicitudin sem purus in lacus. Vestibulum fermentum tortor id\r\n                mi. Duis ante orci, molestie vitae vehicula venenatis, tincidunt\r\n                ac pede.\r\n              </p>\r\n\r\n              <p>\r\n                Aliquam ante. Etiam dictum tincidunt diam. Nam quis nulla.\r\n                Integer vulputate sem a nibh rutrum consequat. Nullam justo\r\n                enim, consectetuer nec, ullamcorper ac, vestibulum in, elit.\r\n                Quisque porta. Ut tempus purus at lorem. Duis pulvinar. Etiam\r\n                neque. Fusce consectetuer risus a nunc. Nullam dapibus fermentum\r\n                ipsum. Nullam justo enim, consectetuer nec, ullamcorper ac,\r\n                vestibulum in, elit. Etiam sapien elit, consequat eget,\r\n                tristique non, venenatis quis, ante. Vivamus ac leo pretium\r\n                faucibus. Fusce tellus. Aliquam erat volutpat.\r\n              </p>\r\n\r\n              <p>\r\n                Fusce aliquam vestibulum ipsum. Vestibulum fermentum tortor id\r\n                mi. Nullam lectus justo, vulputate eget mollis sed, tempor sed\r\n                magna. Integer malesuada. Aenean vel massa quis mauris vehicula\r\n                lacinia. Integer rutrum, orci vestibulum ullamcorper ultricies,\r\n                lacus quam ultricies odio, vitae placerat pede sem sit amet\r\n                enim. Morbi leo mi, nonummy eget tristique non, rhoncus non leo.\r\n                Aliquam ante. Nullam sit amet magna in magna gravida vehicula.\r\n                Phasellus et lorem id felis nonummy placerat. Sed convallis\r\n                magna eu sem. Fusce tellus. Etiam bibendum elit eget erat.\r\n              </p>\r\n\r\n              <p>\r\n                Cum sociis natoque penatibus et magnis dis parturient montes,\r\n                nascetur ridiculus mus. Cras elementum. Etiam ligula pede,\r\n                sagittis quis, interdum ultricies, scelerisque eu. Etiam commodo\r\n                dui eget wisi. Nunc dapibus tortor vel mi dapibus sollicitudin.\r\n                Phasellus et lorem id felis nonummy placerat. Aenean vel massa\r\n                quis mauris vehicula lacinia. Morbi scelerisque luctus velit.\r\n                Etiam neque. Temporibus autem quibusdam et aut officiis debitis\r\n                aut rerum necessitatibus saepe eveniet ut et voluptates\r\n                repudiandae sint et molestiae non recusandae. Duis bibendum,\r\n                lectus ut viverra rhoncus, dolor nunc faucibus libero, eget\r\n                facilisis enim ipsum id lacus. Suspendisse nisl.\r\n              </p>\r\n            </Grid.Column>\r\n          </Grid>\r\n        </Segment>\r\n      </ResponsiveContainerNav>\r\n    );\r\n  }\r\n}\r\n\r\nexport default InfoPage;\r\n","import React from \"react\";\r\nimport \"./semantic/dist/semantic.min.css\";\r\nimport { applyMiddleware, combineReducers, compose, createStore } from \"redux\";\r\nimport bookReducer from \"./redux/reducers/bookReducer\";\r\nimport authReducer from \"./redux/reducers/authReducer\";\r\nimport { Provider } from \"react-redux\";\r\nimport { BrowserRouter as Router, Route } from \"react-router-dom\";\r\nimport \"./App.css\";\r\nimport LandingPage from \"./components/LandingPage\";\r\nimport BookUploadComponent from \"./components/BookUploadComponent\";\r\nimport BookReaderWrapperComponent from \"./components/BookReaderWrapperComponent\";\r\nimport LibraryComponent from \"./components/LibraryComponent\";\r\nimport InfoPage from \"./components/InfoPage\";\r\nimport thunk from \"redux-thunk\";\r\n\r\nconst store = createStore(\r\n  combineReducers({\r\n    bookReducer: bookReducer,\r\n    authReducer: authReducer\r\n  }) /* preloadedState, */,\r\n  compose(\r\n    applyMiddleware(thunk),\r\n    window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\r\n  )\r\n);\r\n\r\nclass App extends React.Component {\r\n  render() {\r\n    return (\r\n      <Provider store={store}>\r\n        <Router>\r\n          <Route exact path=\"/\" component={LandingPage} />\r\n          <Route path=\"/upload\" component={BookUploadComponent} />\r\n          <Route path=\"/reader\" component={BookReaderWrapperComponent} />\r\n          <Route path=\"/library\" component={LibraryComponent} />\r\n          <Route path=\"/info\" component={InfoPage} />\r\n        </Router>\r\n      </Provider>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}